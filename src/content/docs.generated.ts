// This file is auto-generated by scripts/generate-docs-index.mjs.
// Do not edit manually.

export interface GeneratedDoc {
  slug: string;
  title: string;
  description?: string;
  date?: string;
  order?: number;
  group?: string;
  content: string;
}

export interface GeneratedDocsByLocale {
  en: Record<string, GeneratedDoc>;
  zh: Record<string, GeneratedDoc>;
}

export const GENERATED_DOCS: GeneratedDocsByLocale = {
  "en": {
    "best-practices": {
      "slug": "best-practices",
      "title": "Best Practices",
      "description": "Tips and patterns for creating effective Agent Skills",
      "order": 6,
      "group": "creating-skills",
      "content": "\n# Best Practices\n\nFollow these guidelines to create skills that agents can use effectively.\n\n## Writing Clear Descriptions\n\nThe description is how agents find your skill. Make it count.\n\n### Be specific\n\n```yaml\n# Bad - too vague\ndescription: Helps with documents\n\n# Good - specific and actionable\ndescription: Converts Word documents (.docx) to PDF format, preserving formatting and embedded images. Use when user needs to export or share documents as PDF.\n```\n\n### Include trigger keywords\n\nThink about what users might say:\n\n```yaml\ndescription: Analyzes CSV data files to generate summary statistics, charts, and insights. Use when user mentions data analysis, CSV files, statistics, or wants to visualize data.\n```\n\n### Describe both what and when\n\n```yaml\ndescription: |\n  What: Validates JSON files against JSON Schema definitions.\n  When: Use when user wants to validate JSON, check schema compliance, or debug malformed JSON.\n```\n\n## Structuring Instructions\n\n### Use clear headings\n\n```markdown\n## When to use this skill\n## Prerequisites  \n## Step-by-step instructions\n## Examples\n## Common issues\n```\n\n### Be explicit about steps\n\n```markdown\n## Instructions\n\n1. First, check if the input file exists\n2. Read the file contents using: `cat {filename}`\n3. Process the content by running: `python scripts/process.py {filename}`\n4. Return the output to the user\n```\n\n### Include exact commands\n\n```markdown\n# Bad\nRun the processing script on the file.\n\n# Good  \nRun: `python scripts/process.py --input data.csv --output results.json`\n```\n\n## Managing Context Size\n\n### Keep SKILL.md focused\n\n| Guideline | Recommendation |\n|-----------|----------------|\n| Main SKILL.md | Under 500 lines |\n| Total token count | Under 5000 tokens |\n| Reference files | Load on demand |\n\n### Split large skills\n\nIf your skill is getting too long:\n\n```text\n# Instead of one large skill:\nmega-processor/\n└── SKILL.md (1000+ lines)\n\n# Create focused skills:\ntext-processor/\n└── SKILL.md (200 lines)\n\nimage-processor/\n└── SKILL.md (200 lines)\n\ndata-processor/\n└── SKILL.md (200 lines)\n```\n\n### Use references for details\n\n```markdown\n## Quick Start\n\n[Basic instructions here - ~100 lines]\n\n## Advanced Usage\n\nFor advanced features, see [references/ADVANCED.md](references/ADVANCED.md).\n\n## API Reference\n\nFull API documentation: [references/API.md](references/API.md).\n```\n\n## Error Handling\n\n### Anticipate failures\n\n```markdown\n## Error Handling\n\n### File not found\nIf the input file doesn't exist, inform the user and ask for the correct path.\n\n### Invalid format\nIf the file format is not supported, list supported formats and ask user to convert.\n\n### Permission denied\nIf access is denied, suggest checking file permissions or running with appropriate access.\n```\n\n### Provide recovery steps\n\n```markdown\n## Troubleshooting\n\n### \"Module not found\" error\nInstall required dependencies:\n\\`\\`\\`bash\npip install -r requirements.txt\n\\`\\`\\`\n\n### \"Connection refused\" error\nEnsure the service is running:\n\\`\\`\\`bash\n./scripts/start-service.sh\n\\`\\`\\`\n```\n\n## Examples and Edge Cases\n\n### Show input/output pairs\n\n```markdown\n## Examples\n\n### Basic usage\n\n**Input:** \"Convert report.docx to PDF\"\n\n**Action:**\n\\`\\`\\`bash\npython scripts/convert.py report.docx --output report.pdf\n\\`\\`\\`\n\n**Output:** \"Created report.pdf successfully\"\n```\n\n### Cover edge cases\n\n```markdown\n## Edge Cases\n\n### Empty input\nIf the user provides an empty file, return a warning instead of processing.\n\n### Very large files\nFor files over 100MB, process in chunks to avoid memory issues:\n\\`\\`\\`bash\npython scripts/convert.py large-file.docx --chunked\n\\`\\`\\`\n\n### Special characters in filenames\nAlways quote filenames to handle spaces and special characters:\n\\`\\`\\`bash\npython scripts/convert.py \"my file (copy).docx\"\n\\`\\`\\`\n```\n\n## Script Best Practices\n\n### Self-documenting scripts\n\n```python\n#!/usr/bin/env python3\n\"\"\"\nprocess_data.py - Process and transform data files\n\nUsage:\n    python process_data.py <input_file> [--format json|csv]\n\nArguments:\n    input_file    Path to the input data file\n    --format      Output format (default: json)\n\nRequirements:\n    pip install pandas\n\nExample:\n    python process_data.py data.csv --format json\n\"\"\"\n```\n\n### Helpful error messages\n\n```python\n# Bad\nraise Exception(\"Error\")\n\n# Good\nif not os.path.exists(input_path):\n    print(f\"Error: Cannot find file '{input_path}'\")\n    print(f\"Please check the path and try again.\")\n    print(f\"Current directory: {os.getcwd()}\")\n    sys.exit(1)\n```\n\n### Exit codes\n\n```python\n# Success\nsys.exit(0)\n\n# User error (bad input)\nsys.exit(1)\n\n# System error\nsys.exit(2)\n```\n\n## Testing Your Skill\n\n### Manual testing checklist\n\n- [ ] Does the description accurately reflect what the skill does?\n- [ ] Are all commands correct and working?\n- [ ] Do scripts have proper error handling?\n- [ ] Are examples accurate?\n- [ ] Does it work with edge cases?\n\n### Validation\n\nUse the skills-ref tool:\n\n```bash\nskills-ref validate ./my-skill\n```\n\n## Summary\n\n| Do | Don't |\n|----|-------|\n| Write specific descriptions | Use vague terms |\n| Include exact commands | Assume agent knows context |\n| Handle errors gracefully | Ignore edge cases |\n| Keep SKILL.md focused | Cram everything in one file |\n| Provide examples | Skip documentation |\n| Test before publishing | Ship untested skills |\n\n## Next steps\n\n- **[Using Skills](/docs/using-skills)** - Learn how to use existing skills\n- **[Examples](/docs/examples)** - Browse real-world skills\n"
    },
    "concepts": {
      "slug": "concepts",
      "title": "Core Concepts",
      "description": "Understand how Agent Skills work under the hood",
      "order": 3,
      "group": "getting-started",
      "content": "\n# Core Concepts\n\nUnderstanding these concepts will help you create more effective skills.\n\n## Progressive Disclosure\n\nSkills are designed for **efficient context management**. Agents don't load everything at once - they progressively load what they need:\n\n```text\n┌─────────────────────────────────────────────────────┐\n│  Stage 1: Discovery (~100 tokens per skill)         │\n│  Agent loads only name + description of all skills  │\n└─────────────────────────────────────────────────────┘\n                         ↓\n┌─────────────────────────────────────────────────────┐\n│  Stage 2: Activation (< 5000 tokens recommended)    │\n│  When task matches, agent loads full SKILL.md       │\n└─────────────────────────────────────────────────────┘\n                         ↓\n┌─────────────────────────────────────────────────────┐\n│  Stage 3: Resources (as needed)                     │\n│  Agent loads scripts, references only when required │\n└─────────────────────────────────────────────────────┘\n```\n\n**Why this matters:** Keep your SKILL.md focused. Move detailed reference material to separate files.\n\n## Skill Structure\n\nA complete skill can include multiple components:\n\n```text\nmy-skill/\n├── SKILL.md          # Required: main instructions\n├── scripts/          # Optional: executable code\n│   ├── process.py\n│   └── validate.sh\n├── references/       # Optional: detailed documentation\n│   ├── API.md\n│   └── examples.md\n└── assets/           # Optional: static resources\n    ├── template.json\n    └── schema.yaml\n```\n\n### SKILL.md (Required)\n\nThe only required file. Contains:\n- **Frontmatter**: Metadata (name, description)\n- **Body**: Instructions in Markdown\n\n### scripts/ (Optional)\n\nExecutable code the agent can run:\n- Python, Bash, JavaScript, etc.\n- Should be self-contained\n- Include helpful error messages\n\n### references/ (Optional)\n\nAdditional documentation loaded on demand:\n- Detailed API references\n- Complex examples\n- Domain-specific knowledge\n\n### assets/ (Optional)\n\nStatic resources:\n- Templates\n- Configuration files\n- Schemas\n\n## The SKILL.md File\n\nEvery SKILL.md follows this structure:\n\n```markdown\n---\nname: skill-name\ndescription: When and how to use this skill\n---\n\n# Skill Title\n\n## When to use this skill\nClear criteria for activation...\n\n## Instructions\nStep-by-step guide...\n\n## Examples\nInput/output examples...\n```\n\n### Required Frontmatter\n\n| Field | Description |\n|-------|-------------|\n| `name` | Unique identifier (lowercase, hyphens allowed) |\n| `description` | What the skill does and when to use it |\n\n### Optional Frontmatter\n\n| Field | Description |\n|-------|-------------|\n| `license` | License information |\n| `compatibility` | Environment requirements |\n| `metadata` | Custom key-value pairs |\n\n## How Agents Use Skills\n\n1. **At startup**: Agent scans skill directories, loads only metadata\n2. **On user request**: Agent matches task to skill descriptions\n3. **When matched**: Agent reads full SKILL.md into context\n4. **During execution**: Agent loads scripts/references as needed\n\n## Key Takeaways\n\n1. **Keep SKILL.md under 500 lines** - Split detailed content into references\n2. **Write clear descriptions** - This is how agents find your skill\n3. **Use progressive disclosure** - Don't load everything upfront\n4. **Include examples** - They help agents understand expected behavior\n\n## Next steps\n\n- **[Writing SKILL.md](/docs/writing-skill-md)** - Complete guide to the skill format\n- **[Scripts and Resources](/docs/scripts-and-resources)** - Adding code and files\n- **[Best Practices](/docs/best-practices)** - Tips for effective skills\n"
    },
    "examples": {
      "slug": "examples",
      "title": "Examples",
      "description": "Browse example Agent Skills and implementations",
      "order": 10,
      "group": "reference",
      "content": "\n# Examples\n\nBrowse real-world Agent Skills examples to learn from.\n\n## Official Example Skills\n\nThe official skills repository contains reference implementations:\n\n### [anthropics/skills](https://github.com/anthropics/skills)\n\nExample skills maintained by Anthropic, including:\n\n- Document processing skills\n- Code analysis skills\n- Data manipulation skills\n\n## Example: PDF Processor\n\nA complete skill for processing PDF files:\n\n```text\npdf-processor/\n├── SKILL.md\n├── scripts/\n│   ├── extract_text.py\n│   ├── extract_tables.py\n│   └── merge_pdfs.py\n└── references/\n    └── FORMATS.md\n```\n\n### SKILL.md\n\n```markdown\n---\nname: pdf-processor\ndescription: Extract text and tables from PDF files, merge multiple PDFs. Use when working with PDF documents.\nmetadata:\n  author: example\n  version: \"1.0\"\n---\n\n# PDF Processor\n\n## When to use this skill\n\nUse this skill when the user:\n- Needs to extract text from PDF files\n- Wants to extract tables from PDFs\n- Needs to merge multiple PDFs into one\n\n## Text Extraction\n\nTo extract text from a PDF:\n\n\\`\\`\\`bash\npython scripts/extract_text.py <input.pdf>\n\\`\\`\\`\n\n## Table Extraction\n\nTo extract tables as CSV:\n\n\\`\\`\\`bash\npython scripts/extract_tables.py <input.pdf> --output tables/\n\\`\\`\\`\n\n## Merging PDFs\n\nTo merge multiple PDFs:\n\n\\`\\`\\`bash\npython scripts/merge_pdfs.py file1.pdf file2.pdf -o merged.pdf\n\\`\\`\\`\n\n## Supported Formats\n\nSee [references/FORMATS.md](references/FORMATS.md) for supported PDF versions.\n```\n\n## Example: Git Commit Helper\n\nA simple skill without scripts:\n\n```text\ngit-commit-helper/\n└── SKILL.md\n```\n\n### SKILL.md\n\n```markdown\n---\nname: git-commit-helper\ndescription: Helps write better git commit messages following conventional commits format.\n---\n\n# Git Commit Helper\n\n## When to use this skill\n\nUse when the user asks for help with commit messages or mentions \"conventional commits\".\n\n## Commit Format\n\n\\`\\`\\`\n<type>(<scope>): <subject>\n\n<body>\n\n<footer>\n\\`\\`\\`\n\n## Types\n\n| Type | Use for |\n|------|---------|\n| feat | New features |\n| fix | Bug fixes |\n| docs | Documentation |\n| style | Formatting |\n| refactor | Code restructuring |\n| test | Adding tests |\n| chore | Maintenance |\n\n## Examples\n\n### Feature\n\\`\\`\\`\nfeat(auth): add password reset functionality\n\nUsers can now reset their password via email.\nCloses #123\n\\`\\`\\`\n\n### Bug fix\n\\`\\`\\`\nfix(api): handle null response from server\n\nAdded null check to prevent crash when server\nreturns empty response.\n\\`\\`\\`\n\n### Breaking change\n\\`\\`\\`\nfeat(api)!: change response format\n\nBREAKING CHANGE: API now returns JSON:API format.\nSee migration guide for details.\n\\`\\`\\`\n```\n\n## Example: Code Reviewer\n\nA skill with references:\n\n```text\ncode-reviewer/\n├── SKILL.md\n└── references/\n    ├── PATTERNS.md\n    └── SECURITY.md\n```\n\n### SKILL.md\n\n```markdown\n---\nname: code-reviewer\ndescription: Reviews code for bugs, security issues, and best practices.\ncompatibility: Works best with Python and JavaScript code.\n---\n\n# Code Reviewer\n\n## When to use this skill\n\nUse when reviewing code for:\n- Bugs and logic errors\n- Security vulnerabilities\n- Performance issues\n- Code style and best practices\n\n## Review Process\n\n1. Read the code carefully\n2. Check for common issues (see below)\n3. Provide specific, actionable feedback\n4. Suggest improvements with examples\n\n## Common Issues to Check\n\n### Logic errors\n- Off-by-one errors\n- Null/undefined handling\n- Edge cases\n\n### Security (see [references/SECURITY.md](references/SECURITY.md))\n- Input validation\n- SQL injection\n- XSS vulnerabilities\n\n### Performance\n- N+1 queries\n- Unnecessary loops\n- Memory leaks\n\n### Code patterns (see [references/PATTERNS.md](references/PATTERNS.md))\n- DRY violations\n- Large functions\n- Poor naming\n\n## Output Format\n\n\\`\\`\\`markdown\n## Code Review: [filename]\n\n### Critical Issues\n- [Issue description and location]\n- [Suggested fix]\n\n### Improvements\n- [Suggestion and reasoning]\n\n### Positive Notes\n- [What was done well]\n\\`\\`\\`\n```\n\n## Example: Data Analyzer\n\nA skill with scripts and assets:\n\n```text\ndata-analyzer/\n├── SKILL.md\n├── scripts/\n│   ├── analyze.py\n│   └── visualize.py\n└── assets/\n    └── report-template.md\n```\n\n### SKILL.md\n\n```markdown\n---\nname: data-analyzer\ndescription: Analyzes CSV data files to generate statistics, insights, and visualizations.\nmetadata:\n  requires: pandas, matplotlib\n---\n\n# Data Analyzer\n\n## When to use this skill\n\nUse when the user wants to:\n- Analyze CSV or data files\n- Generate statistics\n- Create visualizations\n- Get insights from data\n\n## Quick Analysis\n\n\\`\\`\\`bash\npython scripts/analyze.py data.csv\n\\`\\`\\`\n\nOutputs:\n- Row/column counts\n- Data types\n- Basic statistics\n- Missing values\n\n## Visualization\n\n\\`\\`\\`bash\npython scripts/visualize.py data.csv --chart bar --column sales\n\\`\\`\\`\n\nChart types: bar, line, scatter, histogram, pie\n\n## Report Generation\n\nGenerate a full report using the template:\n\n\\`\\`\\`bash\npython scripts/analyze.py data.csv --report --template assets/report-template.md\n\\`\\`\\`\n```\n\n## Creating Your Own\n\nUse these examples as starting points:\n\n1. **Copy a similar skill** as a template\n2. **Modify the SKILL.md** for your use case\n3. **Add scripts** if needed\n4. **Test thoroughly** before publishing\n\n## Contributing Examples\n\nWant to share your skill?\n\n1. Ensure it follows the [specification](/docs/specification)\n2. Test with the skills-ref validator\n3. Submit to community repositories (coming soon)\n\n## Resources\n\n- [GitHub: anthropics/skills](https://github.com/anthropics/skills) - Official examples\n- [GitHub: agentskills/agentskills](https://github.com/agentskills/agentskills) - Reference library\n- [Specification](/docs/specification) - Complete format reference\n"
    },
    "integrating": {
      "slug": "integrating",
      "title": "Integrating Skills",
      "description": "Add Agent Skills support to your own agent or tool",
      "order": 8,
      "group": "integration",
      "content": "\n# Integrating Skills\n\nThis guide explains how to add skills support to an AI agent or development tool.\n\n## Overview\n\nA skills-compatible agent needs to:\n\n1. **Discover** skills in configured directories\n2. **Load metadata** (name and description) at startup\n3. **Present** available skills to the agent via a tool description\n4. **Activate** skills by loading full instructions when requested\n5. **Execute** scripts and access resources as needed\n6. **Enforce** permissions based on configuration\n\n## Integration Approaches\n\n### Filesystem-based agents\n\nAgents that operate within a computer environment (bash/unix):\n\n- Skills are activated when models issue shell commands like `cat /path/to/skill/SKILL.md`\n- Bundled resources are accessed through shell commands\n- Most flexible and capable approach\n\n### Tool-based agents\n\nAgents without a dedicated computer environment:\n\n- Implement a `skill` tool for loading skills\n- More controlled but less flexible\n- Recommended for most integrations\n\n## Step 1: Skill Discovery\n\n### Supported paths\n\nScan these directories for valid skills:\n\n```javascript\nconst SKILL_PATHS = {\n  project: [\n    '.opencode/skill',      // OpenCode native\n    '.claude/skills'        // Claude-compatible\n  ],\n  global: [\n    '~/.config/opencode/skill',  // OpenCode native\n    '~/.claude/skills'           // Claude-compatible\n  ]\n};\n```\n\n### Walk-up discovery\n\nFor project-local paths, walk up from the current working directory to the git worktree root:\n\n```javascript\nfunction discoverProjectSkills(cwd) {\n  const skills = [];\n  let dir = cwd;\n  const gitRoot = findGitRoot(cwd);\n  \n  while (dir && dir.startsWith(gitRoot)) {\n    for (const skillPath of SKILL_PATHS.project) {\n      const fullPath = path.join(dir, skillPath);\n      if (fs.existsSync(fullPath)) {\n        skills.push(...scanSkillDirectory(fullPath));\n      }\n    }\n    dir = path.dirname(dir);\n    if (dir === path.dirname(dir)) break; // reached root\n  }\n  \n  return skills;\n}\n\nfunction scanSkillDirectory(skillsDirectory) {\n  const skills = [];\n  \n  for (const entry of fs.readdirSync(skillsDirectory)) {\n    const skillPath = path.join(skillsDirectory, entry);\n    const skillMdPath = path.join(skillPath, \"SKILL.md\");\n    \n    if (fs.existsSync(skillMdPath)) {\n      skills.push({\n        name: entry,\n        path: skillPath,\n        skillMdPath: skillMdPath\n      });\n    }\n  }\n  \n  return skills;\n}\n```\n\n### Deduplication\n\nSkills with the same name in closer directories override those in parent directories:\n\n```javascript\nfunction deduplicateSkills(skills) {\n  const seen = new Map();\n  for (const skill of skills) {\n    if (!seen.has(skill.name)) {\n      seen.set(skill.name, skill);\n    }\n  }\n  return Array.from(seen.values());\n}\n```\n\n## Step 2: Loading Metadata\n\nParse only the frontmatter at startup to minimize context usage:\n\n```javascript\nfunction parseMetadata(skillMdPath) {\n  const content = fs.readFileSync(skillMdPath, \"utf8\");\n  const frontmatter = extractYAMLFrontmatter(content);\n  \n  // Validate required fields\n  if (!frontmatter.name || !frontmatter.description) {\n    throw new Error(`Invalid skill: missing name or description`);\n  }\n  \n  // Validate name format\n  if (!isValidSkillName(frontmatter.name)) {\n    throw new Error(`Invalid skill name: ${frontmatter.name}`);\n  }\n  \n  return {\n    name: frontmatter.name,\n    description: frontmatter.description,\n    path: path.dirname(skillMdPath)\n  };\n}\n\nfunction isValidSkillName(name) {\n  // 1-64 chars, lowercase alphanumeric with single hyphen separators\n  return /^[a-z0-9]+(-[a-z0-9]+)*$/.test(name) && name.length <= 64;\n}\n\nfunction extractYAMLFrontmatter(content) {\n  const match = content.match(/^---\\n([\\s\\S]*?)\\n---/);\n  if (!match) return {};\n  \n  const yaml = {};\n  match[1].split(\"\\n\").forEach(line => {\n    const [key, ...value] = line.split(\":\");\n    if (key && value.length) {\n      yaml[key.trim()] = value.join(\":\").trim();\n    }\n  });\n  return yaml;\n}\n```\n\n## Step 3: Injecting into Tool Description\n\nInclude skill metadata in the `skill` tool's description:\n\n### XML format (recommended)\n\n```xml\n<available_skills>\n  <skill>\n    <name>pdf-processing</name>\n    <description>Extracts text and tables from PDF files, fills forms, merges documents.</description>\n  </skill>\n  <skill>\n    <name>data-analysis</name>\n    <description>Analyzes datasets, generates charts, and creates summary reports.</description>\n  </skill>\n</available_skills>\n```\n\n### Generation code\n\n```javascript\nfunction generateSkillsPrompt(skills) {\n  if (skills.length === 0) return '';\n  \n  let xml = \"<available_skills>\\n\";\n  \n  for (const skill of skills) {\n    xml += \"  <skill>\\n\";\n    xml += `    <name>${escapeXml(skill.name)}</name>\\n`;\n    xml += `    <description>${escapeXml(skill.description)}</description>\\n`;\n    xml += \"  </skill>\\n\";\n  }\n  \n  xml += \"</available_skills>\";\n  return xml;\n}\n```\n\n### Context budget\n\n- Each skill adds ~50-100 tokens to the tool description\n- Keep metadata concise\n- Consider limiting total skills if context is constrained\n\n## Step 4: The Skill Tool\n\nImplement a tool that agents can call to load a skill:\n\n```javascript\nconst skillTool = {\n  name: \"skill\",\n  description: `Load a skill to get detailed instructions for a specific task.\n\n${generateSkillsPrompt(availableSkills)}`,\n  \n  parameters: {\n    type: \"object\",\n    properties: {\n      name: {\n        type: \"string\",\n        description: \"The name of the skill to load\"\n      }\n    },\n    required: [\"name\"]\n  },\n  \n  execute: async ({ name }) => {\n    const skill = findSkillByName(name);\n    if (!skill) {\n      return { error: `Skill not found: ${name}` };\n    }\n    \n    // Check permissions\n    const permission = getSkillPermission(name);\n    if (permission === 'deny') {\n      return { error: `Access denied to skill: ${name}` };\n    }\n    if (permission === 'ask') {\n      const approved = await askUserApproval(name);\n      if (!approved) {\n        return { error: `User denied access to skill: ${name}` };\n      }\n    }\n    \n    const content = fs.readFileSync(skill.skillMdPath, \"utf8\");\n    return { content };\n  }\n};\n```\n\n## Step 5: Configure Permissions\n\n### Permission configuration\n\nControl which skills agents can access using pattern-based permissions:\n\n```json\n{\n  \"permission\": {\n    \"skill\": {\n      \"*\": \"allow\",\n      \"pr-review\": \"allow\",\n      \"internal-*\": \"deny\",\n      \"experimental-*\": \"ask\"\n    }\n  }\n}\n```\n\n### Permission values\n\n| Permission | Behavior |\n|------------|----------|\n| `allow` | Skill loads immediately |\n| `deny` | Skill hidden from agent, access rejected |\n| `ask` | User prompted for approval before loading |\n\n### Pattern matching implementation\n\n```javascript\nfunction getSkillPermission(skillName, config) {\n  const permissions = config.permission?.skill || {};\n  \n  // Check exact match first\n  if (permissions[skillName]) {\n    return permissions[skillName];\n  }\n  \n  // Check patterns (most specific first)\n  const patterns = Object.keys(permissions)\n    .filter(p => p.includes('*'))\n    .sort((a, b) => b.length - a.length);\n  \n  for (const pattern of patterns) {\n    const regex = new RegExp('^' + pattern.replace('*', '.*') + '$');\n    if (regex.test(skillName)) {\n      return permissions[pattern];\n    }\n  }\n  \n  // Default to allow\n  return 'allow';\n}\n```\n\n### Filter denied skills from listing\n\nSkills with `deny` permission should not appear in the available skills list:\n\n```javascript\nfunction getVisibleSkills(skills, config) {\n  return skills.filter(skill => {\n    const permission = getSkillPermission(skill.name, config);\n    return permission !== 'deny';\n  });\n}\n```\n\n## Step 6: Per-Agent Overrides\n\nAllow different agents to have different permissions:\n\n### Agent-specific configuration\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"permission\": {\n        \"skill\": {\n          \"internal-*\": \"allow\"\n        }\n      }\n    },\n    \"build\": {\n      \"permission\": {\n        \"skill\": {\n          \"*\": \"allow\"\n        }\n      }\n    }\n  }\n}\n```\n\n### Resolution order\n\n1. Agent-specific permission (if defined)\n2. Global permission (fallback)\n3. Default allow (if nothing defined)\n\n```javascript\nfunction getEffectivePermission(skillName, agentName, config) {\n  // Check agent-specific first\n  const agentConfig = config.agent?.[agentName];\n  if (agentConfig?.permission?.skill) {\n    const perm = matchPermission(skillName, agentConfig.permission.skill);\n    if (perm) return perm;\n  }\n  \n  // Fall back to global\n  return getSkillPermission(skillName, config);\n}\n```\n\n## Step 7: Disabling Skills Entirely\n\nAllow agents to be configured without skills support:\n\n### Configuration\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"tools\": {\n        \"skill\": false\n      }\n    }\n  }\n}\n```\n\n### Implementation\n\n```javascript\nfunction getAgentTools(agentName, config, allTools) {\n  const agentConfig = config.agent?.[agentName] || {};\n  const toolConfig = agentConfig.tools || {};\n  \n  return allTools.filter(tool => {\n    // Check if tool is explicitly disabled\n    if (toolConfig[tool.name] === false) {\n      return false;\n    }\n    return true;\n  });\n}\n```\n\nWhen the skill tool is disabled, omit the `<available_skills>` section entirely.\n\n## Step 8: Resource Access\n\n### Scripts\n\nAllow agents to execute skill scripts:\n\n```javascript\nfunction executeSkillScript(skillName, scriptPath, args) {\n  const skill = findSkillByName(skillName);\n  const fullPath = path.join(skill.path, \"scripts\", scriptPath);\n  \n  // Validate path is within skill directory\n  if (!fullPath.startsWith(skill.path)) {\n    throw new Error(\"Invalid script path\");\n  }\n  \n  return spawnSync(fullPath, args);\n}\n```\n\n### References\n\nLoad reference files on demand:\n\n```javascript\nfunction loadReference(skillName, refPath) {\n  const skill = findSkillByName(skillName);\n  const fullPath = path.join(skill.path, \"references\", refPath);\n  \n  return fs.readFileSync(fullPath, \"utf8\");\n}\n```\n\n## Security Considerations\n\n### Script execution\n\n| Risk | Mitigation |\n|------|------------|\n| Malicious code | Only execute from trusted skills |\n| System access | Run in sandboxed environment |\n| Data exfiltration | Monitor network access |\n\n### Recommendations\n\n1. **Sandboxing**: Run scripts in isolated environments\n2. **Allowlisting**: Only execute scripts from trusted skills\n3. **Confirmation**: Ask users before dangerous operations\n4. **Logging**: Record all script executions for auditing\n\n```javascript\nasync function executeWithConfirmation(command, skill) {\n  const confirmed = await askUser(\n    `Skill \"${skill.name}\" wants to run: ${command}\\nAllow?`\n  );\n  \n  if (confirmed) {\n    logExecution(skill, command);\n    return execute(command);\n  }\n  \n  return { cancelled: true };\n}\n```\n\n## Reference Implementation\n\nUse the [skills-ref](https://github.com/agentskills/agentskills/tree/main/skills-ref) library:\n\n### Validate skills\n\n```bash\nskills-ref validate /path/to/skill\n```\n\n### Generate prompt XML\n\n```bash\nskills-ref to-prompt /path/to/skills/*\n```\n\n### Python library\n\n```python\nfrom skills_ref import Skill, validate_skill\n\n# Load and validate\nskill = Skill.from_path(\"/path/to/skill\")\nerrors = validate_skill(skill)\n\n# Generate prompt\nprompt = skill.to_prompt_xml()\n```\n\n## Testing Your Integration\n\n### Checklist\n\n- [ ] Skills are discovered from all supported paths\n- [ ] Walk-up discovery finds skills in parent directories\n- [ ] Skill metadata is parsed without errors\n- [ ] Skills appear in the tool description\n- [ ] Agent can call the skill tool to load skills\n- [ ] Permissions are enforced correctly\n- [ ] Denied skills are hidden from the listing\n- [ ] `ask` permission prompts the user\n- [ ] Per-agent overrides work correctly\n- [ ] Skills can be disabled per-agent\n- [ ] Scripts execute correctly (if supported)\n- [ ] References load on demand\n- [ ] Security measures are in place\n\n## Next steps\n\n- **[Specification](/docs/specification)** - Complete format reference\n- **[Examples](/docs/examples)** - Browse example implementations\n"
    },
    "introduction": {
      "slug": "introduction",
      "title": "Introduction",
      "description": "Learn what Agent Skills are and why they matter in 1 minute",
      "order": 1,
      "group": "getting-started",
      "content": "\n# Introduction\n\n**Agent Skills** is a simple, open format for giving AI agents new capabilities and expertise.\n\n## What is a Skill?\n\nA skill is just a folder containing a `SKILL.md` file with instructions that tell an agent how to perform a specific task.\n\n```text\nmy-skill/\n├── SKILL.md          # Instructions for the agent\n├── scripts/          # Optional: code the agent can run\n└── references/       # Optional: additional documentation\n```\n\nThink of skills as **\"how-to guides for AI agents\"** - they provide the procedural knowledge that agents need to do real work reliably.\n\n## Why do agents need Skills?\n\nAI agents are increasingly capable, but they often lack the specific context needed for specialized tasks:\n\n| Without Skills | With Skills |\n|----------------|-------------|\n| Generic responses | Domain-specific expertise |\n| Inconsistent workflows | Repeatable, auditable processes |\n| Limited to training data | Access to custom procedures |\n| One-size-fits-all | Team and project specific |\n\n## Who is this for?\n\n| Role | How Skills Help |\n|------|-----------------|\n| **Skill Authors** | Build capabilities once, deploy across multiple agent products |\n| **Agent Developers** | Add skills support to let users extend your agent |\n| **Teams & Enterprises** | Capture organizational knowledge in version-controlled packages |\n\n## What's next?\n\nReady to dive in? Here's your learning path:\n\n1. **[Quick Start](/docs/quickstart)** - Create your first skill in 5 minutes\n2. **[Core Concepts](/docs/concepts)** - Understand how skills work\n3. **[Writing SKILL.md](/docs/writing-skill-md)** - Master the skill format\n\nOr jump to the [Specification](/docs/specification) if you prefer a complete reference.\n"
    },
    "quickstart": {
      "slug": "quickstart",
      "title": "Quick Start",
      "description": "Create your first Agent Skill in 5 minutes",
      "order": 2,
      "group": "getting-started",
      "content": "\n# Quick Start\n\nCreate your first Agent Skill in 5 minutes.\n\n## Where to place skills\n\nSkills can be placed in project-local or global directories. Agents search these locations:\n\n### Project-local (per repository)\n\n```text\n.opencode/skill/<skill-name>/SKILL.md    # OpenCode native\n.claude/skills/<skill-name>/SKILL.md     # Claude-compatible\n```\n\n### Global (user-wide)\n\n```text\n~/.config/opencode/skill/<skill-name>/SKILL.md   # OpenCode native\n~/.claude/skills/<skill-name>/SKILL.md           # Claude-compatible\n```\n\n> **Note**: The exact paths may vary depending on your agent. Check your agent's documentation for supported locations.\n\n## Step 1: Create the skill folder\n\nChoose where to create your skill:\n\n```bash\n# Project-local (recommended for project-specific skills)\nmkdir -p .opencode/skill/my-first-skill\n\n# Or global (for skills you want everywhere)\nmkdir -p ~/.config/opencode/skill/my-first-skill\n```\n\n## Step 2: Create SKILL.md\n\nCreate a file named `SKILL.md` inside your skill folder:\n\n````bash\n# For project-local\ncat > .opencode/skill/my-first-skill/SKILL.md << 'EOF'\n---\nname: my-first-skill\ndescription: A simple skill that helps format markdown documents.\n---\n\n# Markdown Formatter\n\n## When to use this skill\n\nUse this skill when the user asks to format, clean up, or improve markdown documents.\n\n## Instructions\n\n1. Read the markdown content provided by the user\n2. Fix any formatting issues:\n   - Ensure consistent heading levels\n   - Add blank lines between sections\n   - Format code blocks with language identifiers\n3. Return the formatted markdown\n\n## Example\n\nInput:\n```text\n#Title\nSome text\n##Subtitle\n- item1\n- item2\n```\n\nOutput:\n```markdown\n# Title\n\nSome text\n\n## Subtitle\n\n- item1\n- item2\n```\nEOF\n````\n\n## Step 3: Verify the structure\n\nYour skill should look like this:\n\n```text\n.opencode/skill/my-first-skill/\n└── SKILL.md\n```\n\nOr if using Claude-compatible paths:\n\n```text\n.claude/skills/my-first-skill/\n└── SKILL.md\n```\n\n## Step 4: Test your skill\n\nOnce the skill is in place, your agent will discover it automatically. You can verify by asking:\n\n```text\nUser: \"What skills do you have?\"\n```\n\nOr invoke it directly:\n\n```text\nUser: \"Use the my-first-skill skill to format this markdown...\"\n```\n\n## How discovery works\n\nWhen you run an agent:\n\n1. The agent walks up from your current working directory to the git worktree root\n2. It finds all `SKILL.md` files in supported paths (`.opencode/skill/*/`, `.claude/skills/*/`)\n3. It also checks global paths (`~/.config/opencode/skill/*/`, `~/.claude/skills/*/`)\n4. Skill metadata (name and description) is loaded and made available to the agent\n\nThis means skills in parent directories are also discovered, enabling organization-wide skills.\n\n## What's in a SKILL.md?\n\nEvery `SKILL.md` has two parts:\n\n### 1. Frontmatter (required)\n\n```yaml\n---\nname: my-first-skill      # Unique identifier (must match folder name)\ndescription: What this skill does and when to use it\n---\n```\n\n### 2. Instructions (the body)\n\nWrite whatever helps the agent perform the task:\n- Step-by-step instructions\n- Examples\n- Edge cases to handle\n\n## Quick reference\n\n| Path | Scope | Use case |\n|------|-------|----------|\n| `.opencode/skill/<name>/` | Project | Project-specific workflows |\n| `.claude/skills/<name>/` | Project | Claude-compatible project skills |\n| `~/.config/opencode/skill/<name>/` | Global | Personal tools you use everywhere |\n| `~/.claude/skills/<name>/` | Global | Claude-compatible global skills |\n\n## Next steps\n\n- **[Core Concepts](/docs/concepts)** - Understand progressive disclosure and skill structure\n- **[Writing SKILL.md](/docs/writing-skill-md)** - Learn all frontmatter options\n- **[Best Practices](/docs/best-practices)** - Tips for effective skills\n"
    },
    "scripts-and-resources": {
      "slug": "scripts-and-resources",
      "title": "Scripts and Resources",
      "description": "Adding executable code and reference materials to your skills",
      "order": 5,
      "group": "creating-skills",
      "content": "\n# Scripts and Resources\n\nSkills can include more than just instructions. Learn how to add executable code and reference materials.\n\n## Directory Structure\n\n```text\nmy-skill/\n├── SKILL.md          # Required\n├── scripts/          # Executable code\n│   ├── main.py\n│   ├── helper.sh\n│   └── utils.js\n├── references/       # Documentation\n│   ├── API.md\n│   └── EXAMPLES.md\n└── assets/           # Static files\n    ├── template.json\n    └── config.yaml\n```\n\n## scripts/\n\nContains executable code that agents can run.\n\n### Guidelines\n\n**Be self-contained:**\n```python\n# Good - includes all dependencies info\n#!/usr/bin/env python3\n\"\"\"\nRequirements: requests, pandas\nInstall: pip install requests pandas\n\"\"\"\nimport requests\nimport pandas as pd\n```\n\n**Include helpful error messages:**\n```python\ndef process_file(path):\n    if not os.path.exists(path):\n        print(f\"Error: File not found: {path}\")\n        print(\"Please provide a valid file path.\")\n        sys.exit(1)\n```\n\n**Handle edge cases:**\n```python\ndef extract_data(content):\n    if not content:\n        return {\"error\": \"Empty content provided\"}\n    \n    try:\n        return parse(content)\n    except ParseError as e:\n        return {\"error\": f\"Failed to parse: {e}\"}\n```\n\n### Supported Languages\n\nCommon options (depends on agent):\n- **Python** - Most versatile\n- **Bash** - System operations\n- **JavaScript/Node** - Web-related tasks\n- **Any CLI tool** - If available on the system\n\n### Example Script\n\n```python\n#!/usr/bin/env python3\n\"\"\"\nextract_text.py - Extract text from PDF files\n\nUsage: python extract_text.py <pdf_file>\n\nRequirements: pdfplumber\nInstall: pip install pdfplumber\n\"\"\"\n\nimport sys\nimport pdfplumber\n\ndef extract_text(pdf_path):\n    \"\"\"Extract all text from a PDF file.\"\"\"\n    text_content = []\n    \n    try:\n        with pdfplumber.open(pdf_path) as pdf:\n            for page in pdf.pages:\n                text = page.extract_text()\n                if text:\n                    text_content.append(text)\n    except Exception as e:\n        print(f\"Error processing PDF: {e}\", file=sys.stderr)\n        sys.exit(1)\n    \n    return \"\\n\\n\".join(text_content)\n\nif __name__ == \"__main__\":\n    if len(sys.argv) != 2:\n        print(\"Usage: python extract_text.py <pdf_file>\")\n        sys.exit(1)\n    \n    result = extract_text(sys.argv[1])\n    print(result)\n```\n\n## references/\n\nAdditional documentation loaded on demand.\n\n### When to use references\n\n- Detailed API documentation\n- Extended examples\n- Domain-specific knowledge\n- Information that's not always needed\n\n### Keep files focused\n\nEach reference file should cover one topic:\n\n```text\nreferences/\n├── API.md           # API documentation\n├── EXAMPLES.md      # Extended examples\n├── TROUBLESHOOT.md  # Common issues\n└── GLOSSARY.md      # Domain terms\n```\n\n### Referencing from SKILL.md\n\n```markdown\n## Basic Usage\n\n[See instructions above]\n\n## Advanced Usage\n\nFor advanced features, see [references/ADVANCED.md](references/ADVANCED.md).\n\n## Troubleshooting\n\nHaving issues? Check [references/TROUBLESHOOT.md](references/TROUBLESHOOT.md).\n```\n\n### Example Reference File\n\n```markdown\n# API Reference\n\n## Endpoints\n\n### POST /extract\n\nExtract text from a document.\n\n**Request:**\n\\`\\`\\`json\n{\n  \"file_path\": \"/path/to/document.pdf\",\n  \"options\": {\n    \"pages\": \"all\",\n    \"format\": \"text\"\n  }\n}\n\\`\\`\\`\n\n**Response:**\n\\`\\`\\`json\n{\n  \"success\": true,\n  \"text\": \"Extracted content...\",\n  \"pages\": 5\n}\n\\`\\`\\`\n\n### Error Codes\n\n| Code | Meaning |\n|------|---------|\n| 400 | Invalid request |\n| 404 | File not found |\n| 500 | Processing error |\n```\n\n## assets/\n\nStatic resources like templates and configuration files.\n\n### Common uses\n\n- **Templates**: Document templates, config templates\n- **Schemas**: JSON Schema, YAML definitions\n- **Data files**: Lookup tables, mappings\n\n### Example: Template file\n\n`assets/report-template.md`:\n```markdown\n# {{title}}\n\n**Date:** {{date}}\n**Author:** {{author}}\n\n## Summary\n\n{{summary}}\n\n## Details\n\n{{details}}\n\n## Conclusion\n\n{{conclusion}}\n```\n\n### Example: Schema file\n\n`assets/config-schema.json`:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"required\": [\"name\", \"version\"],\n  \"properties\": {\n    \"name\": {\n      \"type\": \"string\",\n      \"minLength\": 1\n    },\n    \"version\": {\n      \"type\": \"string\",\n      \"pattern\": \"^\\\\d+\\\\.\\\\d+\\\\.\\\\d+$\"\n    }\n  }\n}\n```\n\n## File References in SKILL.md\n\nKeep references one level deep:\n\n```markdown\n# Good - direct reference\nSee [references/API.md](references/API.md)\nRun: scripts/process.py\n\n# Avoid - nested references\nSee [references/advanced/deep/file.md]\n```\n\n## Complete Example\n\n```text\npdf-processor/\n├── SKILL.md\n├── scripts/\n│   ├── extract_text.py\n│   ├── extract_tables.py\n│   └── merge_pdfs.py\n├── references/\n│   ├── SUPPORTED_FORMATS.md\n│   └── TROUBLESHOOTING.md\n└── assets/\n    └── output-template.md\n```\n\n## Next steps\n\n- **[Best Practices](/docs/best-practices)** - Tips for effective skills\n- **[Examples](/docs/examples)** - Browse real skill examples\n"
    },
    "specification": {
      "slug": "specification",
      "title": "Specification",
      "description": "The complete format specification for Agent Skills.",
      "order": 9,
      "group": "reference",
      "content": "\n# Specification\n\nThe complete format specification for Agent Skills.\n\nThis document defines the Agent Skills format.\n\n## Directory structure\n\nA skill is a directory containing at minimum a `SKILL.md` file:\n\n```text\nskill-name/\n└── SKILL.md          # Required\n```\n\nYou can optionally include additional directories such as `scripts/`, `references/`, and `assets/` to support your skill.\n\n## SKILL.md format\n\nThe `SKILL.md` file must contain YAML frontmatter followed by Markdown content.\n\n### Frontmatter (required)\n\n```yaml\n---\nname: skill-name\ndescription: A description of what this skill does and when to use it.\n---\n```\n\nWith optional fields:\n\n```yaml\n---\nname: pdf-processing\ndescription: Extract text and tables from PDF files, fill forms, merge documents.\nlicense: Apache-2.0\nmetadata:\n  author: example-org\n  version: \"1.0\"\n---\n```\n\n| Field | Required | Constraints |\n|-------|----------|-------------|\n| `name` | Yes | Max 64 characters. Lowercase letters, numbers, and hyphens only. Must not start or end with a hyphen. |\n| `description` | Yes | Max 1024 characters. Non-empty. Describes what the skill does and when to use it. |\n| `license` | No | License name or reference to a bundled license file. |\n| `compatibility` | No | Max 500 characters. Indicates environment requirements (intended product, system packages, network access, etc.). |\n| `metadata` | No | Arbitrary key-value mapping for additional metadata. |\n| `allowed-tools` | No | Space-delimited list of pre-approved tools the skill may use. (Experimental) |\n\n### `name` field\n\nThe required `name` field:\n\n- Must be 1-64 characters\n- May only contain unicode lowercase alphanumeric characters and hyphens (`a-z` and `-`)\n- Must not start or end with `-`\n- Must not contain consecutive hyphens (`--`)\n- Must match the parent directory name\n\nValid examples:\n\n```yaml\nname: pdf-processing\n```\n\n```yaml\nname: data-analysis\n```\n\n```yaml\nname: code-review\n```\n\nInvalid examples:\n\n```yaml\nname: PDF-Processing  # uppercase not allowed\n```\n\n```yaml\nname: -pdf  # cannot start with hyphen\n```\n\n```yaml\nname: pdf--processing  # consecutive hyphens not allowed\n```\n\n### `description` field\n\nThe required `description` field:\n\n- Must be 1-1024 characters\n- Should describe both what the skill does and when to use it\n- Should include specific keywords that help agents identify relevant tasks\n\nGood example:\n\n```yaml\ndescription: Extracts text and tables from PDF files, fills PDF forms, and merges multiple PDFs. Use when working with PDF documents or when the user mentions PDFs, forms, or document extraction.\n```\n\nPoor example:\n\n```yaml\ndescription: Helps with PDFs.\n```\n\n### `license` field\n\nThe optional `license` field:\n\n- Specifies the license applied to the skill\n- We recommend keeping it short (either the name of a license or the name of a bundled license file)\n\nExample:\n\n```yaml\nlicense: Proprietary. LICENSE.txt has complete terms\n```\n\n### `compatibility` field\n\nThe optional `compatibility` field:\n\n- Must be 1-500 characters if provided\n- Should only be included if your skill has specific environment requirements\n- Can indicate intended product, required system packages, network access needs, etc.\n\nExamples:\n\n```yaml\ncompatibility: Designed for Claude Code (or similar products)\n```\n\n```yaml\ncompatibility: Requires git, docker, jq, and access to the internet\n```\n\nMost skills do not need the `compatibility` field.\n\n### `metadata` field\n\nThe optional `metadata` field:\n\n- A map from string keys to string values\n- Clients can use this to store additional properties not defined by the Agent Skills spec\n- We recommend making your key names reasonably unique to avoid accidental conflicts\n\nExample:\n\n```yaml\nmetadata:\n  author: example-org\n  version: \"1.0\"\n```\n\n### `allowed-tools` field\n\nThe optional `allowed-tools` field:\n\n- A space-delimited list of tools that are pre-approved to run\n- Experimental. Support for this field may vary between agent implementations\n\nExample:\n\n```yaml\nallowed-tools: Bash(git:*) Bash(jq:*) Read\n```\n\n### Body content\n\nThe Markdown body after the frontmatter contains the skill instructions. There are no format restrictions. Write whatever helps agents perform the task effectively. Recommended sections:\n\n- Step-by-step instructions\n- Examples of inputs and outputs\n- Common edge cases\n\nNote that the agent will load this entire file once it's decided to activate a skill. Consider splitting longer `SKILL.md` content into referenced files.\n\n## Optional directories\n\n### scripts/\n\nContains executable code that agents can run. Scripts should:\n\n- Be self-contained or clearly document dependencies\n- Include helpful error messages\n- Handle edge cases gracefully\n\nSupported languages depend on the agent implementation. Common options include Python, Bash, and JavaScript.\n\n### references/\n\nContains additional documentation that agents can read when needed:\n\n- `REFERENCE.md` - Detailed technical reference\n- `FORMS.md` - Form templates or structured data formats\n- Domain-specific files (`finance.md`, `legal.md`, etc.)\n\nKeep individual reference files focused. Agents load these on demand, so smaller files mean less use of context.\n\n### assets/\n\nContains static resources:\n\n- Templates (document templates, configuration templates)\n- Images (diagrams, examples)\n- Data files (lookup tables, schemas)\n\n## Progressive disclosure\n\nSkills should be structured for efficient use of context:\n\n1. **Metadata** (~100 tokens): The `name` and `description` fields are loaded at startup for all skills\n2. **Instructions** (less than 5000 tokens recommended): The full `SKILL.md` body is loaded when the skill is activated\n3. **Resources** (as needed): Files (e.g. those in `scripts/`, `references/`, or `assets/`) are loaded only when required\n\nKeep your main `SKILL.md` under 500 lines. Move detailed reference material to separate files.\n\n## File references\n\nWhen referencing other files in your skill, use relative paths from the skill root:\n\n```markdown\nSee [the reference guide](references/REFERENCE.md) for details.\n\nRun the extraction script:\nscripts/extract.py\n```\n\nKeep file references one level deep from `SKILL.md`. Avoid deeply nested reference chains.\n\n## Validation\n\nUse the [skills-ref](https://github.com/agentskills/agentskills/tree/main/skills-ref) reference library to validate your skills:\n\n```bash\nskills-ref validate ./my-skill\n```\n\nThis checks that your `SKILL.md` frontmatter is valid and follows all naming conventions.\n"
    },
    "using-skills": {
      "slug": "using-skills",
      "title": "Using Skills",
      "description": "How to find and use existing Agent Skills",
      "order": 7,
      "group": "integration",
      "content": "\n# Using Skills\n\nLearn how to find, install, and use existing Agent Skills.\n\n## Finding Skills\n\n### Official Examples\n\nBrowse the official skill examples on GitHub:\n\n- [anthropics/skills](https://github.com/anthropics/skills) - Example skills from Anthropic\n\n### Community Skills\n\nCheck community repositories and skill registries (coming soon).\n\n## Installing Skills\n\nSkills are just folders - \"installing\" means putting them where your agent can find them.\n\n### Supported locations\n\nAgents typically search these paths:\n\n| Path | Scope |\n|------|-------|\n| `.opencode/skill/<name>/SKILL.md` | Project (OpenCode) |\n| `.claude/skills/<name>/SKILL.md` | Project (Claude-compatible) |\n| `~/.config/opencode/skill/<name>/SKILL.md` | Global (OpenCode) |\n| `~/.claude/skills/<name>/SKILL.md` | Global (Claude-compatible) |\n\n### Local installation\n\n```bash\n# Clone or download the skill into your project\ngit clone https://github.com/example/my-skill.git .opencode/skill/my-skill\n\n# Or create from scratch\nmkdir -p .opencode/skill/pdf-processor\n# Add SKILL.md and other files\n```\n\n### Directory structure\n\nOrganize your skills in a dedicated folder:\n\n```text\n.opencode/skill/\n├── pdf-processor/\n│   └── SKILL.md\n├── code-reviewer/\n│   └── SKILL.md\n└── data-analyzer/\n    ├── SKILL.md\n    └── scripts/\n        └── analyze.py\n```\n\n## How Skill Discovery Works\n\n### Walk-up discovery\n\nFor project-local paths, the agent walks up from your current working directory until it reaches the git worktree root. It loads any matching `skill/*/SKILL.md` in `.opencode/` and `.claude/skills/*/SKILL.md` along the way.\n\nThis means you can have:\n- Repository-level skills in the repo root\n- Organization-level skills in parent directories\n- Personal skills in your home directory\n\n### Discovery order\n\n1. Current directory `.opencode/skill/` and `.claude/skills/`\n2. Parent directories up to git root\n3. Global `~/.config/opencode/skill/`\n4. Global `~/.claude/skills/`\n\nSkills with the same name in closer directories override those in parent directories.\n\n## How Agents See Skills\n\n### The skill tool\n\nAgents are given a `skill` tool with available skills listed in its description:\n\n```xml\n<available_skills>\n  <skill>\n    <name>pdf-processor</name>\n    <description>Extract text and tables from PDF files</description>\n  </skill>\n  <skill>\n    <name>code-reviewer</name>\n    <description>Review code for issues and best practices</description>\n  </skill>\n</available_skills>\n```\n\n### Loading a skill\n\nWhen an agent decides a skill is relevant, it calls:\n\n```javascript\nskill({ name: \"pdf-processor\" })\n```\n\nThis loads the full `SKILL.md` content into the agent's context.\n\n## Configuring Permissions\n\nControl which skills agents can access using pattern-based permissions in your agent's config file (e.g., `opencode.json`):\n\n```json\n{\n  \"permission\": {\n    \"skill\": {\n      \"*\": \"allow\",\n      \"pr-review\": \"allow\",\n      \"internal-*\": \"deny\",\n      \"experimental-*\": \"ask\"\n    }\n  }\n}\n```\n\n### Permission values\n\n| Permission | Behavior |\n|------------|----------|\n| `allow` | Skill loads immediately |\n| `deny` | Skill hidden from agent, access rejected |\n| `ask` | User prompted for approval before loading |\n\n### Pattern matching\n\nPatterns support wildcards:\n- `*` matches all skills\n- `internal-*` matches `internal-docs`, `internal-tools`, etc.\n- Specific names take precedence over wildcards\n\n## Per-Agent Permissions\n\nGive specific agents different permissions than the global defaults.\n\n### For custom agents (in agent frontmatter)\n\n```yaml\n---\npermission:\n  skill:\n    \"documents-*\": \"allow\"\n---\n```\n\n### For built-in agents (in config file)\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"permission\": {\n        \"skill\": {\n          \"internal-*\": \"allow\"\n        }\n      }\n    }\n  }\n}\n```\n\n## Disabling Skills\n\nCompletely disable skills for agents that shouldn't use them:\n\n### For custom agents\n\n```yaml\n---\ntools:\n  skill: false\n---\n```\n\n### For built-in agents\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"tools\": {\n        \"skill\": false\n      }\n    }\n  }\n}\n```\n\nWhen disabled, the `<available_skills>` section is omitted entirely.\n\n## Using Skills in Practice\n\n### Automatic activation\n\nMost agents automatically detect when a skill is relevant:\n\n```text\nUser: \"I need to extract text from report.pdf\"\n\nAgent: (Detects pdf-processor skill is relevant)\n       (Calls skill({ name: \"pdf-processor\" }))\n       (Loads SKILL.md into context)\n       (Follows instructions to process the file)\n```\n\n### Manual activation\n\nYou can explicitly request a skill:\n\n```text\nUser: \"Use the pdf-processor skill to extract text from report.pdf\"\n```\n\n### Checking available skills\n\nAsk your agent what skills are available:\n\n```text\nUser: \"What skills do you have access to?\"\n\nAgent: \"I have access to the following skills:\n        - pdf-processor: Extract text and tables from PDFs\n        - code-reviewer: Review code for issues\n        - data-analyzer: Analyze CSV data files\"\n```\n\n## Skill Permissions\n\n### Script execution\n\nSkills may include executable scripts. Consider:\n\n- **Trust**: Only use skills from trusted sources\n- **Review**: Check scripts before allowing execution\n- **Sandbox**: Run in isolated environments when possible\n\n### File access\n\nSkills may need to read/write files:\n\n- Grant minimal necessary permissions\n- Be cautious with skills that modify files\n- Keep backups of important data\n\n## Troubleshooting\n\n### Skill not showing up\n\nIf a skill doesn't appear in the available list:\n\n1. **Check filename**: Verify `SKILL.md` is spelled in ALL CAPS\n2. **Check frontmatter**: Ensure it includes both `name` and `description`\n3. **Check uniqueness**: Skill names must be unique across all locations\n4. **Check permissions**: Skills with `deny` permission are hidden from agents\n5. **Restart agent**: The agent may need to rescan skill directories\n\n### Skill not activating\n\n```text\nProblem: Agent doesn't use the skill when expected\n\nSolutions:\n1. Check the skill's description matches the task keywords\n2. Try explicitly mentioning the skill name\n3. Verify the skill's frontmatter is valid YAML\n```\n\n### Script errors\n\n```text\nProblem: Skill scripts fail to run\n\nSolutions:\n1. Check script dependencies are installed\n2. Verify file permissions (chmod +x for bash scripts)\n3. Check script path references are correct\n```\n\n## Validating Skills\n\nBefore using a skill, validate it:\n\n```bash\n# Using skills-ref CLI\nskills-ref validate ./my-skill\n\n# Check output for errors or warnings\n```\n\n### Common validation issues\n\n| Issue | Fix |\n|-------|-----|\n| Invalid name format | Use lowercase and hyphens only |\n| Missing description | Add description to frontmatter |\n| Name mismatch | Ensure name matches directory name |\n| Description too long | Keep under 1024 characters |\n\n## Updating Skills\n\nSkills are version-controlled like any code:\n\n```bash\n# If using git\ncd .opencode/skill/my-skill\ngit pull\n\n# Manual update\n# Replace files with new version\n```\n\n## Next steps\n\n- **[Integrating Skills](/docs/integrating)** - Add skills support to your own agent\n- **[Examples](/docs/examples)** - Browse example skills\n"
    },
    "writing-skill-md": {
      "slug": "writing-skill-md",
      "title": "Writing SKILL.md",
      "description": "Complete guide to writing effective SKILL.md files",
      "order": 4,
      "group": "creating-skills",
      "content": "\n# Writing SKILL.md\n\nThe SKILL.md file is the heart of every skill. This guide covers everything you need to know.\n\n## File Structure\n\nEvery SKILL.md has two parts:\n\n```markdown\n---\nname: my-skill\ndescription: What this skill does\n---\n\n# Instructions go here...\n```\n\n## Frontmatter Fields\n\n### Required Fields\n\n#### name\n\nA unique identifier for your skill.\n\n**Rules:**\n- 1-64 characters\n- Lowercase letters, numbers, and hyphens only\n- Cannot start or end with a hyphen\n- Must match the parent directory name\n\n```yaml\n# Good\nname: pdf-processing\nname: data-analysis\nname: code-review\n\n# Bad\nname: PDF-Processing    # No uppercase\nname: -pdf              # Can't start with hyphen\nname: pdf--processing   # No consecutive hyphens\n```\n\n#### description\n\nTells agents when to use this skill.\n\n**Tips:**\n- Be specific about what the skill does\n- Include keywords that help agents match tasks\n- Keep under 1024 characters\n\n```yaml\n# Good\ndescription: Extracts text and tables from PDF files, fills PDF forms, and merges multiple PDFs. Use when working with PDF documents.\n\n# Bad\ndescription: Helps with PDFs.\n```\n\n### Optional Fields\n\n#### license\n\n```yaml\nlicense: MIT\nlicense: Apache-2.0\nlicense: See LICENSE.txt\n```\n\n#### compatibility\n\nEnvironment requirements (max 500 characters):\n\n```yaml\ncompatibility: Requires Python 3.9+ and pdfplumber package\ncompatibility: Works with Claude Code and similar agents\n```\n\n#### metadata\n\nCustom key-value pairs:\n\n```yaml\nmetadata:\n  author: your-name\n  version: \"1.0\"\n  category: productivity\n```\n\n#### allowed-tools (Experimental)\n\nPre-approved tools for the skill:\n\n```yaml\nallowed-tools: Bash(git:*) Bash(jq:*) Read\n```\n\n## Writing the Body\n\nThe body contains your actual instructions. There's no strict format - write whatever helps agents succeed.\n\n### Recommended Sections\n\n#### 1. When to use this skill\n\nClear criteria for when the skill applies:\n\n```markdown\n## When to use this skill\n\nUse this skill when:\n- User asks to process PDF files\n- User mentions extracting text from documents\n- User needs to fill PDF forms\n```\n\n#### 2. Step-by-step instructions\n\n```markdown\n## Instructions\n\n1. First, identify the type of PDF operation needed\n2. For text extraction:\n   - Use the extract_text.py script\n   - Handle multi-page documents by processing each page\n3. For form filling:\n   - Parse the form fields first\n   - Validate input data before filling\n```\n\n#### 3. Examples\n\nShow expected inputs and outputs:\n\n```markdown\n## Examples\n\n### Extracting text\n\nInput: \"Extract text from report.pdf\"\n\nSteps:\n1. Run: python scripts/extract_text.py report.pdf\n2. Return the extracted text to the user\n\n### Filling forms\n\nInput: \"Fill out form.pdf with name: John, date: 2024-01-15\"\n\nSteps:\n1. Parse the field mappings\n2. Run: python scripts/fill_form.py form.pdf --name \"John\" --date \"2024-01-15\"\n```\n\n#### 4. Edge cases\n\n```markdown\n## Edge Cases\n\n- **Encrypted PDFs**: Ask user for password before processing\n- **Scanned documents**: Warn that OCR may be needed\n- **Large files**: Process in chunks to avoid memory issues\n```\n\n## Best Practices\n\n### Keep it focused\n\nEach skill should do one thing well. If your SKILL.md exceeds 500 lines, consider:\n- Splitting into multiple skills\n- Moving details to reference files\n\n### Write for the agent\n\nRemember your audience is an AI agent:\n- Be explicit about steps\n- Include exact commands to run\n- Specify expected outputs\n\n### Use file references\n\nFor detailed content, reference external files:\n\n```markdown\nFor complete API documentation, see [references/API.md](references/API.md).\n\nRun the main script:\n\\`\\`\\`bash\npython scripts/main.py\n\\`\\`\\`\n```\n\n## Complete Example\n\n```markdown\n---\nname: git-commit-helper\ndescription: Helps write better git commit messages following conventional commits format.\nmetadata:\n  author: example\n  version: \"1.0\"\n---\n\n# Git Commit Helper\n\n## When to use this skill\n\nUse when the user:\n- Asks for help writing a commit message\n- Wants to improve their commit message\n- Mentions \"conventional commits\"\n\n## Commit Message Format\n\n\\`\\`\\`\n<type>(<scope>): <subject>\n\n<body>\n\n<footer>\n\\`\\`\\`\n\n### Types\n\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation\n- **style**: Formatting\n- **refactor**: Code restructure\n- **test**: Adding tests\n- **chore**: Maintenance\n\n## Instructions\n\n1. Analyze the changes (git diff or user description)\n2. Determine the appropriate type\n3. Write a concise subject line (max 50 chars)\n4. Add body if changes need explanation\n5. Include breaking change footer if applicable\n\n## Examples\n\n### Simple fix\n\nChanges: Fixed typo in README\n\nMessage:\n\\`\\`\\`\ndocs: fix typo in README\n\\`\\`\\`\n\n### Feature with breaking change\n\nChanges: Changed API response format\n\nMessage:\n\\`\\`\\`\nfeat(api): change response format to JSON:API spec\n\nBREAKING CHANGE: Response structure has changed.\nSee migration guide for details.\n\\`\\`\\`\n```\n\n## Next steps\n\n- **[Scripts and Resources](/docs/scripts-and-resources)** - Add executable code\n- **[Best Practices](/docs/best-practices)** - Tips for effective skills\n- **[Specification](/docs/specification)** - Complete format reference\n"
    }
  },
  "zh": {
    "best-practices": {
      "slug": "best-practices",
      "title": "最佳实践",
      "description": "创建有效 Agent Skills 的技巧和模式",
      "order": 6,
      "group": "creating-skills",
      "content": "\n# 最佳实践\n\n遵循这些指南来创建 Agent 可以有效使用的 skills。\n\n## 编写清晰的描述\n\n描述是 Agent 找到你的 skill 的方式。让它有价值。\n\n### 具体明确\n\n```yaml\n# 差 - 太模糊\ndescription: 帮助处理文档\n\n# 好 - 具体且可操作\ndescription: 将 Word 文档（.docx）转换为 PDF 格式，保留格式和嵌入图像。当用户需要将文档导出或共享为 PDF 时使用。\n```\n\n### 包含触发关键词\n\n考虑用户可能会说什么：\n\n```yaml\ndescription: 分析 CSV 数据文件以生成汇总统计、图表和洞察。当用户提到数据分析、CSV 文件、统计或想要可视化数据时使用。\n```\n\n## 组织指令\n\n### 使用清晰的标题\n\n```markdown\n## 何时使用此 skill\n## 前提条件\n## 分步指令\n## 示例\n## 常见问题\n```\n\n### 明确步骤\n\n```markdown\n## 指令\n\n1. 首先，检查输入文件是否存在\n2. 使用以下命令读取文件内容：`cat {filename}`\n3. 运行以下命令处理内容：`python scripts/process.py {filename}`\n4. 将输出返回给用户\n```\n\n### 包含确切命令\n\n```markdown\n# 差\n在文件上运行处理脚本。\n\n# 好\n运行：`python scripts/process.py --input data.csv --output results.json`\n```\n\n## 管理上下文大小\n\n### 保持 SKILL.md 专注\n\n| 指南 | 建议 |\n|------|------|\n| 主 SKILL.md | 500 行以下 |\n| 总 token 数 | 5000 个 token 以下 |\n| Reference 文件 | 按需加载 |\n\n### 拆分大型 skills\n\n如果你的 skill 变得太长：\n\n```text\n# 不要一个大 skill：\nmega-processor/\n└── SKILL.md (1000+ 行)\n\n# 创建专注的 skills：\ntext-processor/\n└── SKILL.md (200 行)\n\nimage-processor/\n└── SKILL.md (200 行)\n\ndata-processor/\n└── SKILL.md (200 行)\n```\n\n### 使用 references 存放细节\n\n```markdown\n## 快速开始\n\n[基本指令 - 约 100 行]\n\n## 高级用法\n\n高级功能请参阅 [references/ADVANCED.md](references/ADVANCED.md)。\n\n## API 参考\n\n完整的 API 文档：[references/API.md](references/API.md)。\n```\n\n## 错误处理\n\n### 预见失败\n\n```markdown\n## 错误处理\n\n### 找不到文件\n如果输入文件不存在，通知用户并询问正确的路径。\n\n### 无效格式\n如果不支持文件格式，列出支持的格式并要求用户转换。\n\n### 权限被拒绝\n如果访问被拒绝，建议检查文件权限或以适当的访问权限运行。\n```\n\n### 提供恢复步骤\n\n```markdown\n## 故障排除\n\n### \"找不到模块\"错误\n安装所需的依赖项：\n\\`\\`\\`bash\npip install -r requirements.txt\n\\`\\`\\`\n\n### \"连接被拒绝\"错误\n确保服务正在运行：\n\\`\\`\\`bash\n./scripts/start-service.sh\n\\`\\`\\`\n```\n\n## 示例和边缘情况\n\n### 显示输入/输出对\n\n```markdown\n## 示例\n\n### 基本用法\n\n**输入：** \"将 report.docx 转换为 PDF\"\n\n**操作：**\n\\`\\`\\`bash\npython scripts/convert.py report.docx --output report.pdf\n\\`\\`\\`\n\n**输出：** \"成功创建 report.pdf\"\n```\n\n### 覆盖边缘情况\n\n```markdown\n## 边缘情况\n\n### 空输入\n如果用户提供空文件，返回警告而不是处理。\n\n### 非常大的文件\n对于超过 100MB 的文件，分块处理以避免内存问题：\n\\`\\`\\`bash\npython scripts/convert.py large-file.docx --chunked\n\\`\\`\\`\n\n### 文件名中的特殊字符\n始终引用文件名以处理空格和特殊字符：\n\\`\\`\\`bash\npython scripts/convert.py \"my file (copy).docx\"\n\\`\\`\\`\n```\n\n## 摘要\n\n| 要做 | 不要做 |\n|------|--------|\n| 编写具体描述 | 使用模糊术语 |\n| 包含确切命令 | 假设 Agent 知道上下文 |\n| 优雅地处理错误 | 忽略边缘情况 |\n| 保持 SKILL.md 专注 | 将所有内容塞进一个文件 |\n| 提供示例 | 跳过文档 |\n| 发布前测试 | 发布未测试的 skills |\n\n## 下一步\n\n- **[使用 Skills](/zh/docs/using-skills)** - 了解如何使用现有 skills\n- **[示例](/zh/docs/examples)** - 浏览真实的 skills\n"
    },
    "concepts": {
      "slug": "concepts",
      "title": "核心概念",
      "description": "了解 Agent Skills 的工作原理",
      "order": 3,
      "group": "getting-started",
      "content": "\n# 核心概念\n\n理解这些概念将帮助你创建更有效的 skills。\n\n## 渐进式加载\n\nSkills 设计用于**高效的上下文管理**。Agent 不会一次加载所有内容 - 它们按需渐进式加载：\n\n```text\n┌─────────────────────────────────────────────────────┐\n│  阶段 1：发现（每个 skill 约 100 个 token）           │\n│  Agent 只加载所有 skills 的 name + description       │\n└─────────────────────────────────────────────────────┘\n                         ↓\n┌─────────────────────────────────────────────────────┐\n│  阶段 2：激活（建议少于 5000 个 token）              │\n│  当任务匹配时，Agent 加载完整的 SKILL.md             │\n└─────────────────────────────────────────────────────┘\n                         ↓\n┌─────────────────────────────────────────────────────┐\n│  阶段 3：资源（按需）                                │\n│  Agent 仅在需要时加载 scripts、references            │\n└─────────────────────────────────────────────────────┘\n```\n\n**为什么这很重要：** 保持 SKILL.md 的专注。将详细参考资料移到单独的文件中。\n\n## Skill 结构\n\n一个完整的 skill 可以包含多个组件：\n\n```text\nmy-skill/\n├── SKILL.md          # 必需：主要指令\n├── scripts/          # 可选：可执行代码\n│   ├── process.py\n│   └── validate.sh\n├── references/       # 可选：详细文档\n│   ├── API.md\n│   └── examples.md\n└── assets/           # 可选：静态资源\n    ├── template.json\n    └── schema.yaml\n```\n\n### SKILL.md（必需）\n\n唯一必需的文件。包含：\n- **Frontmatter**：元数据（name、description）\n- **正文**：Markdown 格式的指令\n\n### scripts/（可选）\n\nAgent 可以运行的可执行代码：\n- Python、Bash、JavaScript 等\n- 应该是自包含的\n- 包含有用的错误消息\n\n### references/（可选）\n\n按需加载的附加文档：\n- 详细的 API 参考\n- 复杂示例\n- 领域特定知识\n\n### assets/（可选）\n\n静态资源：\n- 模板\n- 配置文件\n- Schema\n\n## SKILL.md 文件\n\n每个 SKILL.md 遵循这个结构：\n\n```markdown\n---\nname: skill-name\ndescription: 何时以及如何使用此 skill\n---\n\n# Skill 标题\n\n## 何时使用此 skill\n激活的明确标准...\n\n## 指令\n分步指南...\n\n## 示例\n输入/输出示例...\n```\n\n### 必需的 Frontmatter\n\n| 字段 | 描述 |\n|------|------|\n| `name` | 唯一标识符（小写，允许连字符） |\n| `description` | skill 做什么以及何时使用 |\n\n### 可选的 Frontmatter\n\n| 字段 | 描述 |\n|------|------|\n| `license` | 许可证信息 |\n| `compatibility` | 环境要求 |\n| `metadata` | 自定义键值对 |\n\n## Agent 如何使用 Skills\n\n1. **启动时**：Agent 扫描 skill 目录，只加载元数据\n2. **收到用户请求时**：Agent 将任务与 skill 描述匹配\n3. **匹配时**：Agent 将完整的 SKILL.md 读入上下文\n4. **执行期间**：Agent 根据需要加载 scripts/references\n\n## 关键要点\n\n1. **保持 SKILL.md 在 500 行以下** - 将详细内容拆分到 references\n2. **写清晰的描述** - 这是 Agent 找到你的 skill 的方式\n3. **使用渐进式加载** - 不要预先加载所有内容\n4. **包含示例** - 它们帮助 Agent 理解预期行为\n\n## 下一步\n\n- **[编写 SKILL.md](/zh/docs/writing-skill-md)** - skill 格式的完整指南\n- **[脚本和资源](/zh/docs/scripts-and-resources)** - 添加代码和文件\n- **[最佳实践](/zh/docs/best-practices)** - 创建有效 skills 的技巧\n"
    },
    "examples": {
      "slug": "examples",
      "title": "示例",
      "description": "浏览 Agent Skills 示例和实现",
      "order": 10,
      "group": "reference",
      "content": "\n# 示例\n\n浏览真实的 Agent Skills 示例来学习。\n\n## 官方示例 Skills\n\n官方 skills 仓库包含参考实现：\n\n### [anthropics/skills](https://github.com/anthropics/skills)\n\n由 Anthropic 维护的示例 skills，包括：\n\n- 文档处理 skills\n- 代码分析 skills\n- 数据处理 skills\n\n## 示例：PDF 处理器\n\n一个完整的 PDF 文件处理 skill：\n\n```text\npdf-processor/\n├── SKILL.md\n├── scripts/\n│   ├── extract_text.py\n│   ├── extract_tables.py\n│   └── merge_pdfs.py\n└── references/\n    └── FORMATS.md\n```\n\n### SKILL.md\n\n~~~markdown\n---\nname: pdf-processor\ndescription: 从 PDF 文件提取文本和表格，合并多个 PDF。在处理 PDF 文档时使用。\nmetadata:\n  author: example\n  version: \"1.0\"\n---\n\n# PDF 处理器\n\n## 何时使用此 skill\n\n在以下情况使用此 skill：\n- 需要从 PDF 文件提取文本\n- 想要从 PDF 提取表格\n- 需要将多个 PDF 合并为一个\n\n## 文本提取\n\n从 PDF 提取文本：\n\n```bash\npython scripts/extract_text.py <input.pdf>\n```\n\n## 表格提取\n\n将表格提取为 CSV：\n\n```bash\npython scripts/extract_tables.py <input.pdf> --output tables/\n```\n\n## 合并 PDF\n\n合并多个 PDF：\n\n```bash\npython scripts/merge_pdfs.py file1.pdf file2.pdf -o merged.pdf\n```\n\n## 支持的格式\n\n支持的 PDF 版本请参阅 [references/FORMATS.md](references/FORMATS.md)。\n~~~\n\n## 示例：Git 提交助手\n\n一个没有脚本的简单 skill：\n\n```text\ngit-commit-helper/\n└── SKILL.md\n```\n\n### SKILL.md\n\n~~~markdown\n---\nname: git-commit-helper\ndescription: 帮助编写遵循 conventional commits 格式的更好的 git 提交消息。\n---\n\n# Git 提交助手\n\n## 何时使用此 skill\n\n当用户请求帮助编写提交消息或提到 \"conventional commits\" 时使用。\n\n## 提交格式\n\n```\n<type>(<scope>): <subject>\n\n<body>\n\n<footer>\n```\n\n## 类型\n\n| 类型 | 用于 |\n|------|------|\n| feat | 新功能 |\n| fix | Bug 修复 |\n| docs | 文档 |\n| style | 格式化 |\n| refactor | 代码重构 |\n| test | 添加测试 |\n| chore | 维护 |\n\n## 示例\n\n### 功能\n```\nfeat(auth): 添加密码重置功能\n\n用户现在可以通过电子邮件重置密码。\nCloses #123\n```\n\n### Bug 修复\n```\nfix(api): 处理服务器的空响应\n\n添加空值检查以防止服务器返回空响应时崩溃。\n```\n\n### 破坏性更改\n```\nfeat(api)!: 更改响应格式\n\nBREAKING CHANGE: API 现在返回 JSON:API 格式。\n详情请参阅迁移指南。\n```\n~~~\n\n## 示例：代码审查器\n\n一个带有 references 的 skill：\n\n```text\ncode-reviewer/\n├── SKILL.md\n└── references/\n    ├── PATTERNS.md\n    └── SECURITY.md\n```\n\n### SKILL.md\n\n~~~markdown\n---\nname: code-reviewer\ndescription: 审查代码的 bug、安全问题和最佳实践。\ncompatibility: 最适合 Python 和 JavaScript 代码。\n---\n\n# 代码审查器\n\n## 何时使用此 skill\n\n审查代码时使用：\n- Bug 和逻辑错误\n- 安全漏洞\n- 性能问题\n- 代码风格和最佳实践\n\n## 审查流程\n\n1. 仔细阅读代码\n2. 检查常见问题（见下文）\n3. 提供具体、可操作的反馈\n4. 用示例建议改进\n\n## 要检查的常见问题\n\n### 逻辑错误\n- 差一错误\n- Null/undefined 处理\n- 边缘情况\n\n### 安全（见 [references/SECURITY.md](references/SECURITY.md)）\n- 输入验证\n- SQL 注入\n- XSS 漏洞\n\n### 性能\n- N+1 查询\n- 不必要的循环\n- 内存泄漏\n\n## 输出格式\n\n```markdown\n## 代码审查：[文件名]\n\n### 关键问题\n- [问题描述和位置]\n- [建议修复]\n\n### 改进建议\n- [建议和理由]\n\n### 正面评价\n- [做得好的地方]\n```\n~~~\n\n## 创建你自己的\n\n使用这些示例作为起点：\n\n1. **复制一个类似的 skill** 作为模板\n2. **根据你的用例修改 SKILL.md**\n3. **如果需要添加脚本**\n4. **发布前彻底测试**\n\n## 贡献示例\n\n想分享你的 skill？\n\n1. 确保它遵循[规范](/zh/docs/specification)\n2. 使用 skills-ref 验证器测试\n3. 提交到社区仓库（即将推出）\n\n## 资源\n\n- [GitHub: anthropics/skills](https://github.com/anthropics/skills) - 官方示例\n- [GitHub: agentskills/agentskills](https://github.com/agentskills/agentskills) - 参考库\n- [规范](/zh/docs/specification) - 完整格式参考\n"
    },
    "integrating": {
      "slug": "integrating",
      "title": "集成 Skills",
      "description": "为你自己的 Agent 或工具添加 Agent Skills 支持",
      "order": 8,
      "group": "integration",
      "content": "\n# 集成 Skills\n\n本指南说明如何为 AI Agent 或开发工具添加 skills 支持。\n\n## 概述\n\n一个兼容 skills 的 Agent 需要：\n\n1. **发现** 配置目录中的 skills\n2. **加载元数据**（name 和 description）在启动时\n3. **呈现** 可用 skills 给 Agent，通过工具描述\n4. **激活** 请求时加载完整说明\n5. **执行** 脚本并按需访问资源\n6. **执行** 基于配置的权限\n\n## 集成方式\n\n### 基于文件系统的 Agent\n\n在计算机环境（bash/unix）中运行的 Agent：\n\n- 当模型发出 `cat /path/to/skill/SKILL.md` 等 shell 命令时激活 Skills\n- 通过 shell 命令访问捆绑资源\n- 最灵活、功能最强的方式\n\n### 基于工具的 Agent\n\n没有专用计算机环境的 Agent：\n\n- 实现 `skill` 工具来加载 skills\n- 更可控但灵活性较低\n- 推荐用于大多数集成\n\n## 第一步：Skill 发现\n\n### 支持的路径\n\n扫描这些目录以查找有效的 skills：\n\n```javascript\nconst SKILL_PATHS = {\n  project: [\n    '.opencode/skill',      // OpenCode 原生格式\n    '.claude/skills'        // Claude 兼容格式\n  ],\n  global: [\n    '~/.config/opencode/skill',  // OpenCode 原生格式\n    '~/.claude/skills'           // Claude 兼容格式\n  ]\n};\n```\n\n### 向上遍历发现\n\n对于项目本地路径，从当前工作目录向上遍历到 git 工作树根目录：\n\n```javascript\nfunction discoverProjectSkills(cwd) {\n  const skills = [];\n  let dir = cwd;\n  const gitRoot = findGitRoot(cwd);\n  \n  while (dir && dir.startsWith(gitRoot)) {\n    for (const skillPath of SKILL_PATHS.project) {\n      const fullPath = path.join(dir, skillPath);\n      if (fs.existsSync(fullPath)) {\n        skills.push(...scanSkillDirectory(fullPath));\n      }\n    }\n    dir = path.dirname(dir);\n    if (dir === path.dirname(dir)) break; // 到达根目录\n  }\n  \n  return skills;\n}\n\nfunction scanSkillDirectory(skillsDirectory) {\n  const skills = [];\n  \n  for (const entry of fs.readdirSync(skillsDirectory)) {\n    const skillPath = path.join(skillsDirectory, entry);\n    const skillMdPath = path.join(skillPath, \"SKILL.md\");\n    \n    if (fs.existsSync(skillMdPath)) {\n      skills.push({\n        name: entry,\n        path: skillPath,\n        skillMdPath: skillMdPath\n      });\n    }\n  }\n  \n  return skills;\n}\n```\n\n### 去重\n\n较近目录中同名的 skill 会覆盖父目录中的 skill：\n\n```javascript\nfunction deduplicateSkills(skills) {\n  const seen = new Map();\n  for (const skill of skills) {\n    if (!seen.has(skill.name)) {\n      seen.set(skill.name, skill);\n    }\n  }\n  return Array.from(seen.values());\n}\n```\n\n## 第二步：加载元数据\n\n启动时只解析 frontmatter 以最小化上下文使用：\n\n```javascript\nfunction parseMetadata(skillMdPath) {\n  const content = fs.readFileSync(skillMdPath, \"utf8\");\n  const frontmatter = extractYAMLFrontmatter(content);\n  \n  // 验证必需字段\n  if (!frontmatter.name || !frontmatter.description) {\n    throw new Error(`无效的 skill：缺少 name 或 description`);\n  }\n  \n  // 验证名称格式\n  if (!isValidSkillName(frontmatter.name)) {\n    throw new Error(`无效的 skill 名称：${frontmatter.name}`);\n  }\n  \n  return {\n    name: frontmatter.name,\n    description: frontmatter.description,\n    path: path.dirname(skillMdPath)\n  };\n}\n\nfunction isValidSkillName(name) {\n  // 1-64 字符，小写字母数字，单连字符分隔\n  return /^[a-z0-9]+(-[a-z0-9]+)*$/.test(name) && name.length <= 64;\n}\n\nfunction extractYAMLFrontmatter(content) {\n  const match = content.match(/^---\\n([\\s\\S]*?)\\n---/);\n  if (!match) return {};\n  \n  const yaml = {};\n  match[1].split(\"\\n\").forEach(line => {\n    const [key, ...value] = line.split(\":\");\n    if (key && value.length) {\n      yaml[key.trim()] = value.join(\":\").trim();\n    }\n  });\n  return yaml;\n}\n```\n\n## 第三步：注入工具描述\n\n在 `skill` 工具的描述中包含 skill 元数据：\n\n### XML 格式（推荐）\n\n```xml\n<available_skills>\n  <skill>\n    <name>pdf-processing</name>\n    <description>从 PDF 文件中提取文本和表格，填写表单，合并文档。</description>\n  </skill>\n  <skill>\n    <name>data-analysis</name>\n    <description>分析数据集，生成图表，创建摘要报告。</description>\n  </skill>\n</available_skills>\n```\n\n### 生成代码\n\n```javascript\nfunction generateSkillsPrompt(skills) {\n  if (skills.length === 0) return '';\n  \n  let xml = \"<available_skills>\\n\";\n  \n  for (const skill of skills) {\n    xml += \"  <skill>\\n\";\n    xml += `    <name>${escapeXml(skill.name)}</name>\\n`;\n    xml += `    <description>${escapeXml(skill.description)}</description>\\n`;\n    xml += \"  </skill>\\n\";\n  }\n  \n  xml += \"</available_skills>\";\n  return xml;\n}\n```\n\n### 上下文预算\n\n- 每个 skill 在工具描述中添加约 50-100 个 token\n- 保持元数据简洁\n- 如果上下文受限，考虑限制 skills 总数\n\n## 第四步：Skill 工具\n\n实现一个 Agent 可以调用来加载 skill 的工具：\n\n```javascript\nconst skillTool = {\n  name: \"skill\",\n  description: `加载一个 skill 以获取特定任务的详细说明。\n\n${generateSkillsPrompt(availableSkills)}`,\n  \n  parameters: {\n    type: \"object\",\n    properties: {\n      name: {\n        type: \"string\",\n        description: \"要加载的 skill 名称\"\n      }\n    },\n    required: [\"name\"]\n  },\n  \n  execute: async ({ name }) => {\n    const skill = findSkillByName(name);\n    if (!skill) {\n      return { error: `Skill 未找到：${name}` };\n    }\n    \n    // 检查权限\n    const permission = getSkillPermission(name);\n    if (permission === 'deny') {\n      return { error: `访问被拒绝：${name}` };\n    }\n    if (permission === 'ask') {\n      const approved = await askUserApproval(name);\n      if (!approved) {\n        return { error: `用户拒绝访问 skill：${name}` };\n      }\n    }\n    \n    const content = fs.readFileSync(skill.skillMdPath, \"utf8\");\n    return { content };\n  }\n};\n```\n\n## 第五步：配置权限\n\n### 权限配置\n\n使用基于模式的权限控制 Agent 可以访问哪些 skills：\n\n```json\n{\n  \"permission\": {\n    \"skill\": {\n      \"*\": \"allow\",\n      \"pr-review\": \"allow\",\n      \"internal-*\": \"deny\",\n      \"experimental-*\": \"ask\"\n    }\n  }\n}\n```\n\n### 权限值\n\n| 权限 | 行为 |\n|------|------|\n| `allow` | Skill 立即加载 |\n| `deny` | Skill 对 Agent 隐藏，访问被拒绝 |\n| `ask` | 加载前提示用户批准 |\n\n### 模式匹配实现\n\n```javascript\nfunction getSkillPermission(skillName, config) {\n  const permissions = config.permission?.skill || {};\n  \n  // 首先检查精确匹配\n  if (permissions[skillName]) {\n    return permissions[skillName];\n  }\n  \n  // 检查模式（最具体的优先）\n  const patterns = Object.keys(permissions)\n    .filter(p => p.includes('*'))\n    .sort((a, b) => b.length - a.length);\n  \n  for (const pattern of patterns) {\n    const regex = new RegExp('^' + pattern.replace('*', '.*') + '$');\n    if (regex.test(skillName)) {\n      return permissions[pattern];\n    }\n  }\n  \n  // 默认允许\n  return 'allow';\n}\n```\n\n### 从列表中过滤被拒绝的 skills\n\n`deny` 权限的 skills 不应出现在可用 skills 列表中：\n\n```javascript\nfunction getVisibleSkills(skills, config) {\n  return skills.filter(skill => {\n    const permission = getSkillPermission(skill.name, config);\n    return permission !== 'deny';\n  });\n}\n```\n\n## 第六步：按 Agent 覆盖\n\n允许不同的 Agent 有不同的权限：\n\n### Agent 特定配置\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"permission\": {\n        \"skill\": {\n          \"internal-*\": \"allow\"\n        }\n      }\n    },\n    \"build\": {\n      \"permission\": {\n        \"skill\": {\n          \"*\": \"allow\"\n        }\n      }\n    }\n  }\n}\n```\n\n### 解析顺序\n\n1. Agent 特定权限（如果定义）\n2. 全局权限（回退）\n3. 默认允许（如果没有定义）\n\n```javascript\nfunction getEffectivePermission(skillName, agentName, config) {\n  // 首先检查 Agent 特定权限\n  const agentConfig = config.agent?.[agentName];\n  if (agentConfig?.permission?.skill) {\n    const perm = matchPermission(skillName, agentConfig.permission.skill);\n    if (perm) return perm;\n  }\n  \n  // 回退到全局\n  return getSkillPermission(skillName, config);\n}\n```\n\n## 第七步：完全禁用 Skills\n\n允许将 Agent 配置为不支持 skills：\n\n### 配置\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"tools\": {\n        \"skill\": false\n      }\n    }\n  }\n}\n```\n\n### 实现\n\n```javascript\nfunction getAgentTools(agentName, config, allTools) {\n  const agentConfig = config.agent?.[agentName] || {};\n  const toolConfig = agentConfig.tools || {};\n  \n  return allTools.filter(tool => {\n    // 检查工具是否被明确禁用\n    if (toolConfig[tool.name] === false) {\n      return false;\n    }\n    return true;\n  });\n}\n```\n\n当 skill 工具被禁用时，完全省略 `<available_skills>` 部分。\n\n## 第八步：资源访问\n\n### 脚本\n\n允许 Agent 执行 skill 脚本：\n\n```javascript\nfunction executeSkillScript(skillName, scriptPath, args) {\n  const skill = findSkillByName(skillName);\n  const fullPath = path.join(skill.path, \"scripts\", scriptPath);\n  \n  // 验证路径在 skill 目录内\n  if (!fullPath.startsWith(skill.path)) {\n    throw new Error(\"无效的脚本路径\");\n  }\n  \n  return spawnSync(fullPath, args);\n}\n```\n\n### 参考文件\n\n按需加载参考文件：\n\n```javascript\nfunction loadReference(skillName, refPath) {\n  const skill = findSkillByName(skillName);\n  const fullPath = path.join(skill.path, \"references\", refPath);\n  \n  return fs.readFileSync(fullPath, \"utf8\");\n}\n```\n\n## 安全考虑\n\n### 脚本执行\n\n| 风险 | 缓解措施 |\n|------|----------|\n| 恶意代码 | 只执行来自可信 skills 的脚本 |\n| 系统访问 | 在沙箱环境中运行 |\n| 数据泄露 | 监控网络访问 |\n\n### 建议\n\n1. **沙箱化**：在隔离环境中运行脚本\n2. **白名单**：只执行来自可信 skills 的脚本\n3. **确认**：在危险操作前询问用户\n4. **日志**：记录所有脚本执行以供审计\n\n```javascript\nasync function executeWithConfirmation(command, skill) {\n  const confirmed = await askUser(\n    `Skill \"${skill.name}\" 想要运行：${command}\\n允许吗？`\n  );\n  \n  if (confirmed) {\n    logExecution(skill, command);\n    return execute(command);\n  }\n  \n  return { cancelled: true };\n}\n```\n\n## 参考实现\n\n使用 [skills-ref](https://github.com/agentskills/agentskills/tree/main/skills-ref) 库：\n\n### 验证 skills\n\n```bash\nskills-ref validate /path/to/skill\n```\n\n### 生成提示词 XML\n\n```bash\nskills-ref to-prompt /path/to/skills/*\n```\n\n### Python 库\n\n```python\nfrom skills_ref import Skill, validate_skill\n\n# 加载并验证\nskill = Skill.from_path(\"/path/to/skill\")\nerrors = validate_skill(skill)\n\n# 生成提示词\nprompt = skill.to_prompt_xml()\n```\n\n## 测试你的集成\n\n### 检查清单\n\n- [ ] 从所有支持的路径发现 Skills\n- [ ] 向上遍历发现能找到父目录中的 skills\n- [ ] Skill 元数据解析无错误\n- [ ] Skills 出现在工具描述中\n- [ ] Agent 可以调用 skill 工具来加载 skills\n- [ ] 权限正确执行\n- [ ] 被拒绝的 skills 从列表中隐藏\n- [ ] `ask` 权限提示用户\n- [ ] 按 Agent 覆盖正常工作\n- [ ] Skills 可以按 Agent 禁用\n- [ ] 脚本正确执行（如果支持）\n- [ ] 参考文件按需加载\n- [ ] 安全措施到位\n\n## 下一步\n\n- **[规范](/zh/docs/specification)** - 完整格式参考\n- **[示例](/zh/docs/examples)** - 浏览示例实现\n"
    },
    "introduction": {
      "slug": "introduction",
      "title": "简介",
      "description": "1 分钟了解 Agent Skills 是什么",
      "order": 1,
      "group": "getting-started",
      "content": "\n# 简介\n\n**Agent Skills** 是一种简单、开放的格式，用于为 AI Agent 提供新能力和专业知识。\n\n## 什么是 Skill？\n\nSkill 就是一个包含 `SKILL.md` 文件的文件夹，其中包含告诉 Agent 如何执行特定任务的指令。\n\n```text\nmy-skill/\n├── SKILL.md          # Agent 的指令\n├── scripts/          # 可选：Agent 可运行的代码\n└── references/       # 可选：附加文档\n```\n\n可以把 skills 理解为 **\"AI Agent 的操作指南\"** - 它们提供 Agent 可靠完成实际工作所需的程序性知识。\n\n## 为什么 Agent 需要 Skills？\n\nAI Agent 的能力越来越强，但它们往往缺乏专业任务所需的特定上下文：\n\n| 没有 Skills | 有 Skills |\n|-------------|-----------|\n| 通用回答 | 领域专业知识 |\n| 不一致的工作流 | 可重复、可审计的流程 |\n| 局限于训练数据 | 可访问自定义程序 |\n| 一刀切 | 团队和项目定制 |\n\n## 这是为谁准备的？\n\n| 角色 | Skills 如何帮助 |\n|------|-----------------|\n| **Skill 作者** | 一次构建能力，部署到多个 Agent 产品 |\n| **Agent 开发者** | 添加 skills 支持，让用户扩展你的 Agent |\n| **团队和企业** | 将组织知识封装在版本控制的包中 |\n\n## 下一步\n\n准备好开始了吗？这是你的学习路径：\n\n1. **[快速开始](/zh/docs/quickstart)** - 5 分钟创建你的第一个 skill\n2. **[核心概念](/zh/docs/concepts)** - 了解 skills 如何工作\n3. **[编写 SKILL.md](/zh/docs/writing-skill-md)** - 掌握 skill 格式\n\n或者如果你更喜欢完整参考，可以直接跳到[规范](/zh/docs/specification)。\n"
    },
    "quickstart": {
      "slug": "quickstart",
      "title": "快速开始",
      "description": "5 分钟创建你的第一个 Agent Skill",
      "order": 2,
      "group": "getting-started",
      "content": "\n# 快速开始\n\n5 分钟创建你的第一个 Agent Skill。\n\n## Skill 存放位置\n\nSkill 可以放在项目本地目录或全局目录中。Agent 会搜索以下位置：\n\n### 项目本地（每个仓库）\n\n```text\n.opencode/skill/<skill-name>/SKILL.md    # OpenCode 原生格式\n.claude/skills/<skill-name>/SKILL.md     # Claude 兼容格式\n```\n\n### 全局（用户级别）\n\n```text\n~/.config/opencode/skill/<skill-name>/SKILL.md   # OpenCode 原生格式\n~/.claude/skills/<skill-name>/SKILL.md           # Claude 兼容格式\n```\n\n> **注意**：具体路径可能因 Agent 而异，请查阅你的 Agent 文档了解支持的路径。\n\n## 第一步：创建 Skill 文件夹\n\n选择创建 Skill 的位置：\n\n```bash\n# 项目本地（推荐用于项目特定的 skill）\nmkdir -p .opencode/skill/my-first-skill\n\n# 或者全局（用于你想在所有地方使用的 skill）\nmkdir -p ~/.config/opencode/skill/my-first-skill\n```\n\n## 第二步：创建 SKILL.md\n\n在 skill 文件夹中创建名为 `SKILL.md` 的文件：\n\n````bash\n# 项目本地示例\ncat > .opencode/skill/my-first-skill/SKILL.md << 'EOF'\n---\nname: my-first-skill\ndescription: 一个帮助格式化 Markdown 文档的简单 skill。\n---\n\n# Markdown 格式化工具\n\n## 何时使用此 skill\n\n当用户要求格式化、清理或改进 Markdown 文档时使用此 skill。\n\n## 操作说明\n\n1. 读取用户提供的 Markdown 内容\n2. 修复格式问题：\n   - 确保标题层级一致\n   - 在章节之间添加空行\n   - 为代码块添加语言标识符\n3. 返回格式化后的 Markdown\n\n## 示例\n\n输入：\n```text\n#标题\n一些文本\n##副标题\n- 项目1\n- 项目2\n```\n\n输出：\n```markdown\n# 标题\n\n一些文本\n\n## 副标题\n\n- 项目1\n- 项目2\n```\nEOF\n````\n\n## 第三步：验证结构\n\n你的 skill 应该是这样的结构：\n\n```text\n.opencode/skill/my-first-skill/\n└── SKILL.md\n```\n\n或者如果使用 Claude 兼容路径：\n\n```text\n.claude/skills/my-first-skill/\n└── SKILL.md\n```\n\n## 第四步：测试你的 skill\n\nSkill 就位后，你的 Agent 会自动发现它。你可以这样验证：\n\n```text\n用户：\"你有哪些 skill？\"\n```\n\n或者直接调用：\n\n```text\n用户：\"使用 my-first-skill 来格式化这个 markdown...\"\n```\n\n## 发现机制是如何工作的\n\n当你运行 Agent 时：\n\n1. Agent 从当前工作目录向上遍历到 git 工作树根目录\n2. 它会在支持的路径中找到所有 `SKILL.md` 文件（`.opencode/skill/*/`、`.claude/skills/*/`）\n3. 它还会检查全局路径（`~/.config/opencode/skill/*/`、`~/.claude/skills/*/`）\n4. Skill 元数据（name 和 description）被加载并提供给 Agent\n\n这意味着父目录中的 skill 也会被发现，从而支持组织级别的 skill。\n\n## SKILL.md 包含什么？\n\n每个 `SKILL.md` 有两个部分：\n\n### 1. Frontmatter（必需）\n\n```yaml\n---\nname: my-first-skill      # 唯一标识符（必须与文件夹名匹配）\ndescription: 这个 skill 做什么以及何时使用它\n---\n```\n\n### 2. 说明内容（正文）\n\n写任何能帮助 Agent 执行任务的内容：\n- 分步说明\n- 示例\n- 需要处理的边缘情况\n\n## 快速参考\n\n| 路径 | 作用域 | 用途 |\n|------|--------|------|\n| `.opencode/skill/<name>/` | 项目 | 项目特定的工作流 |\n| `.claude/skills/<name>/` | 项目 | Claude 兼容的项目 skill |\n| `~/.config/opencode/skill/<name>/` | 全局 | 你到处都用的个人工具 |\n| `~/.claude/skills/<name>/` | 全局 | Claude 兼容的全局 skill |\n\n## 下一步\n\n- **[核心概念](/zh/docs/concepts)** - 了解渐进式披露和 skill 结构\n- **[编写 SKILL.md](/zh/docs/writing-skill-md)** - 学习所有 frontmatter 选项\n- **[最佳实践](/zh/docs/best-practices)** - 高效 skill 的技巧\n"
    },
    "scripts-and-resources": {
      "slug": "scripts-and-resources",
      "title": "脚本和资源",
      "description": "为 skills 添加可执行代码和参考资料",
      "order": 5,
      "group": "creating-skills",
      "content": "\n# 脚本和资源\n\nSkills 可以包含的不仅仅是指令。了解如何添加可执行代码和参考资料。\n\n## 目录结构\n\n```text\nmy-skill/\n├── SKILL.md          # 必需\n├── scripts/          # 可执行代码\n│   ├── main.py\n│   ├── helper.sh\n│   └── utils.js\n├── references/       # 文档\n│   ├── API.md\n│   └── EXAMPLES.md\n└── assets/           # 静态文件\n    ├── template.json\n    └── config.yaml\n```\n\n## scripts/\n\n包含 Agent 可以运行的可执行代码。\n\n### 指南\n\n**自包含：**\n```python\n#!/usr/bin/env python3\n\"\"\"\n依赖项：requests, pandas\n安装：pip install requests pandas\n\"\"\"\nimport requests\nimport pandas as pd\n```\n\n**包含有用的错误消息：**\n```python\ndef process_file(path):\n    if not os.path.exists(path):\n        print(f\"错误：找不到文件：{path}\")\n        print(\"请提供有效的文件路径。\")\n        sys.exit(1)\n```\n\n**处理边缘情况：**\n```python\ndef extract_data(content):\n    if not content:\n        return {\"error\": \"提供的内容为空\"}\n    \n    try:\n        return parse(content)\n    except ParseError as e:\n        return {\"error\": f\"解析失败：{e}\"}\n```\n\n### 支持的语言\n\n常见选项（取决于 Agent）：\n- **Python** - 最通用\n- **Bash** - 系统操作\n- **JavaScript/Node** - 网络相关任务\n- **任何 CLI 工具** - 如果系统上可用\n\n## references/\n\n按需加载的附加文档。\n\n### 何时使用 references\n\n- 详细的 API 文档\n- 扩展示例\n- 领域特定知识\n- 不总是需要的信息\n\n### 保持文件专注\n\n每个 reference 文件应该覆盖一个主题：\n\n```text\nreferences/\n├── API.md           # API 文档\n├── EXAMPLES.md      # 扩展示例\n├── TROUBLESHOOT.md  # 常见问题\n└── GLOSSARY.md      # 领域术语\n```\n\n### 从 SKILL.md 引用\n\n```markdown\n## 基本用法\n\n[上面的指令]\n\n## 高级用法\n\n高级功能请参阅 [references/ADVANCED.md](references/ADVANCED.md)。\n\n## 故障排除\n\n遇到问题？查看 [references/TROUBLESHOOT.md](references/TROUBLESHOOT.md)。\n```\n\n## assets/\n\n静态资源如模板和配置文件。\n\n### 常见用途\n\n- **模板**：文档模板、配置模板\n- **Schema**：JSON Schema、YAML 定义\n- **数据文件**：查找表、映射\n\n### 示例：模板文件\n\n`assets/report-template.md`：\n```markdown\n# {{title}}\n\n**日期：** {{date}}\n**作者：** {{author}}\n\n## 摘要\n\n{{summary}}\n\n## 详情\n\n{{details}}\n\n## 结论\n\n{{conclusion}}\n```\n\n## SKILL.md 中的文件引用\n\n保持引用一层深度：\n\n```markdown\n# 好 - 直接引用\n参阅 [references/API.md](references/API.md)\n运行：scripts/process.py\n\n# 避免 - 嵌套引用\n参阅 [references/advanced/deep/file.md]\n```\n\n## 下一步\n\n- **[最佳实践](/zh/docs/best-practices)** - 创建有效 skills 的技巧\n- **[示例](/zh/docs/examples)** - 浏览真实的 skill 示例\n"
    },
    "specification": {
      "slug": "specification",
      "title": "规范",
      "description": "Agent Skills 的完整格式规范。",
      "order": 9,
      "group": "reference",
      "content": "\n# 规范\n\nAgent Skills 的完整格式规范。\n\n本文档定义了 Agent Skills 格式。\n\n## 目录结构\n\nSkill 是一个至少包含 `SKILL.md` 文件的目录：\n\n```text\nskill-name/\n└── SKILL.md          # 必需\n```\n\n您可以选择性地包含 `scripts/`、`references/` 和 `assets/` 等附加目录来支持您的 skill。\n\n## SKILL.md 格式\n\n`SKILL.md` 文件必须包含 YAML frontmatter，后跟 Markdown 内容。\n\n### Frontmatter（必需）\n\n```yaml\n---\nname: skill-name\ndescription: 描述此 skill 的功能以及何时使用它。\n---\n```\n\n可选字段：\n\n```yaml\n---\nname: pdf-processing\ndescription: 从 PDF 文件中提取文本和表格，填写表单，合并文档。\nlicense: Apache-2.0\nmetadata:\n  author: example-org\n  version: \"1.0\"\n---\n```\n\n| 字段 | 必需 | 约束 |\n|------|------|------|\n| `name` | 是 | 最多 64 个字符。仅限小写字母、数字和连字符。不能以连字符开头或结尾。 |\n| `description` | 是 | 最多 1024 个字符。非空。描述 skill 的功能和使用时机。 |\n| `license` | 否 | 许可证名称或对捆绑许可证文件的引用。 |\n| `compatibility` | 否 | 最多 500 个字符。指示环境要求（目标产品、系统包、网络访问等）。 |\n| `metadata` | 否 | 用于附加元数据的任意键值映射。 |\n| `allowed-tools` | 否 | 预批准工具的空格分隔列表。（实验性） |\n\n### `name` 字段\n\n必需的 `name` 字段：\n\n- 必须是 1-64 个字符\n- 只能包含 Unicode 小写字母数字字符和连字符（`a-z` 和 `-`）\n- 不能以 `-` 开头或结尾\n- 不能包含连续的连字符（`--`）\n- 必须与父目录名称匹配\n\n有效示例：\n\n```yaml\nname: pdf-processing\n```\n\n```yaml\nname: data-analysis\n```\n\n```yaml\nname: code-review\n```\n\n无效示例：\n\n```yaml\nname: PDF-Processing  # 不允许大写\n```\n\n```yaml\nname: -pdf  # 不能以连字符开头\n```\n\n```yaml\nname: pdf--processing  # 不允许连续连字符\n```\n\n### `description` 字段\n\n必需的 `description` 字段：\n\n- 必须是 1-1024 个字符\n- 应描述 skill 的功能和使用时机\n- 应包含帮助 Agent 识别相关任务的特定关键词\n\n好的示例：\n\n```yaml\ndescription: 从 PDF 文件中提取文本和表格，填写 PDF 表单，合并多个 PDF。在处理 PDF 文档或用户提到 PDF、表单或文档提取时使用。\n```\n\n差的示例：\n\n```yaml\ndescription: 处理 PDF。\n```\n\n### `license` 字段\n\n可选的 `license` 字段：\n\n- 指定应用于 skill 的许可证\n- 我们建议保持简短（许可证名称或捆绑许可证文件的名称）\n\n示例：\n\n```yaml\nlicense: Proprietary. LICENSE.txt has complete terms\n```\n\n### `compatibility` 字段\n\n可选的 `compatibility` 字段：\n\n- 如果提供，必须是 1-500 个字符\n- 仅当您的 skill 有特定环境要求时才应包含\n- 可以指示目标产品、所需系统包、网络访问需求等\n\n示例：\n\n```yaml\ncompatibility: 专为 Claude Code（或类似产品）设计\n```\n\n```yaml\ncompatibility: 需要 git、docker、jq 和互联网访问\n```\n\n大多数 skills 不需要 `compatibility` 字段。\n\n### `metadata` 字段\n\n可选的 `metadata` 字段：\n\n- 从字符串键到字符串值的映射\n- 客户端可以使用它来存储 Agent Skills 规范未定义的附加属性\n- 我们建议使您的键名足够唯一以避免意外冲突\n\n示例：\n\n```yaml\nmetadata:\n  author: example-org\n  version: \"1.0\"\n```\n\n### `allowed-tools` 字段\n\n可选的 `allowed-tools` 字段：\n\n- 预批准运行的工具的空格分隔列表\n- 实验性。对此字段的支持可能因 Agent 实现而异\n\n示例：\n\n```yaml\nallowed-tools: Bash(git:*) Bash(jq:*) Read\n```\n\n### 正文内容\n\nfrontmatter 之后的 Markdown 正文包含 skill 指令。没有格式限制。写任何有助于 Agent 有效执行任务的内容。推荐的部分：\n\n- 分步指令\n- 输入和输出示例\n- 常见边缘情况\n\n请注意，一旦 Agent 决定激活 skill，它将加载整个文件。考虑将较长的 `SKILL.md` 内容拆分到引用文件中。\n\n## 可选目录\n\n### scripts/\n\n包含 Agent 可以运行的可执行代码。脚本应该：\n\n- 自包含或清楚地记录依赖项\n- 包含有用的错误消息\n- 优雅地处理边缘情况\n\n支持的语言取决于 Agent 实现。常见选项包括 Python、Bash 和 JavaScript。\n\n### references/\n\n包含 Agent 可以在需要时阅读的附加文档：\n\n- `REFERENCE.md` - 详细的技术参考\n- `FORMS.md` - 表单模板或结构化数据格式\n- 领域特定文件（`finance.md`、`legal.md` 等）\n\n保持单个参考文件的专注。Agent 按需加载这些文件，因此较小的文件意味着较少的上下文使用。\n\n### assets/\n\n包含静态资源：\n\n- 模板（文档模板、配置模板）\n- 图像（图表、示例）\n- 数据文件（查找表、模式）\n\n## 渐进式披露\n\nSkills 应该结构化以有效使用上下文：\n\n1. **元数据**（约 100 个 token）：`name` 和 `description` 字段在启动时为所有 skills 加载\n2. **指令**（建议少于 5000 个 token）：当 skill 被激活时加载完整的 `SKILL.md` 正文\n3. **资源**（按需）：文件（例如 `scripts/`、`references/` 或 `assets/` 中的文件）仅在需要时加载\n\n将主 `SKILL.md` 保持在 500 行以下。将详细参考资料移到单独的文件中。\n\n## 文件引用\n\n在 skill 中引用其他文件时，使用相对于 skill 根目录的相对路径：\n\n```markdown\n详情请参阅 [参考指南](references/REFERENCE.md)。\n\n运行提取脚本：\nscripts/extract.py\n```\n\n将文件引用保持在 `SKILL.md` 的一层深度内。避免深度嵌套的引用链。\n\n## 验证\n\n使用 [skills-ref](https://github.com/agentskills/agentskills/tree/main/skills-ref) 参考库来验证您的 skills：\n\n```bash\nskills-ref validate ./my-skill\n```\n\n这会检查您的 `SKILL.md` frontmatter 是否有效并遵循所有命名约定。\n"
    },
    "using-skills": {
      "slug": "using-skills",
      "title": "使用 Skills",
      "description": "如何查找和使用现有的 Agent Skills",
      "order": 7,
      "group": "integration",
      "content": "\n# 使用 Skills\n\n了解如何查找、安装和使用现有的 Agent Skills。\n\n## 查找 Skills\n\n### 官方示例\n\n在 GitHub 上浏览官方 skill 示例：\n\n- [anthropics/skills](https://github.com/anthropics/skills) - Anthropic 提供的示例 skills\n\n### 社区 Skills\n\n查看社区仓库和 skill 注册表（即将推出）。\n\n## 安装 Skills\n\nSkills 只是文件夹 - \"安装\"意味着把它们放在 Agent 能找到的地方。\n\n### 支持的位置\n\nAgent 通常搜索这些路径：\n\n| 路径 | 作用域 |\n|------|--------|\n| `.opencode/skill/<name>/SKILL.md` | 项目（OpenCode） |\n| `.claude/skills/<name>/SKILL.md` | 项目（Claude 兼容） |\n| `~/.config/opencode/skill/<name>/SKILL.md` | 全局（OpenCode） |\n| `~/.claude/skills/<name>/SKILL.md` | 全局（Claude 兼容） |\n\n### 本地安装\n\n```bash\n# 克隆或下载 skill 到你的项目\ngit clone https://github.com/example/my-skill.git .opencode/skill/my-skill\n\n# 或者从头创建\nmkdir -p .opencode/skill/pdf-processor\n# 添加 SKILL.md 和其他文件\n```\n\n### 目录结构\n\n在专用文件夹中组织你的 skills：\n\n```text\n.opencode/skill/\n├── pdf-processor/\n│   └── SKILL.md\n├── code-reviewer/\n│   └── SKILL.md\n└── data-analyzer/\n    ├── SKILL.md\n    └── scripts/\n        └── analyze.py\n```\n\n## Skill 发现机制\n\n### 向上遍历发现\n\n对于项目本地路径，Agent 会从当前工作目录向上遍历到 git 工作树根目录。它会加载沿途在 `.opencode/` 中匹配 `skill/*/SKILL.md` 和在 `.claude/skills/*/SKILL.md` 中的所有文件。\n\n这意味着你可以有：\n- 仓库根目录中的仓库级 skills\n- 父目录中的组织级 skills\n- 家目录中的个人 skills\n\n### 发现顺序\n\n1. 当前目录的 `.opencode/skill/` 和 `.claude/skills/`\n2. 向上遍历到 git 根目录的父目录\n3. 全局 `~/.config/opencode/skill/`\n4. 全局 `~/.claude/skills/`\n\n较近目录中同名的 skill 会覆盖父目录中的 skill。\n\n## Agent 如何看到 Skills\n\n### Skill 工具\n\nAgent 会获得一个 `skill` 工具，其描述中列出了可用的 skills：\n\n```xml\n<available_skills>\n  <skill>\n    <name>pdf-processor</name>\n    <description>从 PDF 文件中提取文本和表格</description>\n  </skill>\n  <skill>\n    <name>code-reviewer</name>\n    <description>审查代码的问题和最佳实践</description>\n  </skill>\n</available_skills>\n```\n\n### 加载 Skill\n\n当 Agent 决定某个 skill 相关时，它会调用：\n\n```javascript\nskill({ name: \"pdf-processor\" })\n```\n\n这会将完整的 `SKILL.md` 内容加载到 Agent 的上下文中。\n\n## 配置权限\n\n在 Agent 的配置文件（如 `opencode.json`）中使用基于模式的权限来控制 Agent 可以访问哪些 skills：\n\n```json\n{\n  \"permission\": {\n    \"skill\": {\n      \"*\": \"allow\",\n      \"pr-review\": \"allow\",\n      \"internal-*\": \"deny\",\n      \"experimental-*\": \"ask\"\n    }\n  }\n}\n```\n\n### 权限值\n\n| 权限 | 行为 |\n|------|------|\n| `allow` | Skill 立即加载 |\n| `deny` | Skill 对 Agent 隐藏，访问被拒绝 |\n| `ask` | 加载前提示用户批准 |\n\n### 模式匹配\n\n模式支持通配符：\n- `*` 匹配所有 skills\n- `internal-*` 匹配 `internal-docs`、`internal-tools` 等\n- 具体名称优先于通配符\n\n## 按 Agent 配置权限\n\n给特定 Agent 不同于全局默认的权限。\n\n### 自定义 Agent（在 agent frontmatter 中）\n\n```yaml\n---\npermission:\n  skill:\n    \"documents-*\": \"allow\"\n---\n```\n\n### 内置 Agent（在配置文件中）\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"permission\": {\n        \"skill\": {\n          \"internal-*\": \"allow\"\n        }\n      }\n    }\n  }\n}\n```\n\n## 禁用 Skills\n\n完全禁用不应使用 skills 的 Agent 的 skills 功能：\n\n### 自定义 Agent\n\n```yaml\n---\ntools:\n  skill: false\n---\n```\n\n### 内置 Agent\n\n```json\n{\n  \"agent\": {\n    \"plan\": {\n      \"tools\": {\n        \"skill\": false\n      }\n    }\n  }\n}\n```\n\n禁用时，`<available_skills>` 部分会被完全省略。\n\n## 实际使用 Skills\n\n### 自动激活\n\n大多数 Agent 会自动检测何时某个 skill 相关：\n\n```text\n用户：\"我需要从 report.pdf 中提取文本\"\n\nAgent：（检测到 pdf-processor skill 相关）\n       （调用 skill({ name: \"pdf-processor\" })）\n       （将 SKILL.md 加载到上下文中）\n       （按照说明处理文件）\n```\n\n### 手动激活\n\n你可以明确请求一个 skill：\n\n```text\n用户：\"使用 pdf-processor skill 从 report.pdf 中提取文本\"\n```\n\n### 查看可用 skills\n\n询问你的 Agent 有哪些 skills 可用：\n\n```text\n用户：\"你有哪些 skills？\"\n\nAgent：\"我可以访问以下 skills：\n        - pdf-processor：从 PDF 中提取文本和表格\n        - code-reviewer：审查代码问题\n        - data-analyzer：分析 CSV 数据文件\"\n```\n\n## Skill 权限\n\n### 脚本执行\n\nSkills 可能包含可执行脚本。请考虑：\n\n- **信任**：只使用来自可信来源的 skills\n- **审查**：在允许执行前检查脚本\n- **沙箱**：尽可能在隔离环境中运行\n\n### 文件访问\n\nSkills 可能需要读写文件：\n\n- 授予最小必要权限\n- 对修改文件的 skills 保持谨慎\n- 备份重要数据\n\n## 故障排除\n\n### Skill 没有显示\n\n如果 skill 没有出现在可用列表中：\n\n1. **检查文件名**：验证 `SKILL.md` 是全大写拼写\n2. **检查 frontmatter**：确保包含 `name` 和 `description`\n3. **检查唯一性**：Skill 名称在所有位置必须唯一\n4. **检查权限**：`deny` 权限的 skills 对 Agent 隐藏\n5. **重启 Agent**：Agent 可能需要重新扫描 skill 目录\n\n### Skill 没有激活\n\n```text\n问题：Agent 在预期时没有使用 skill\n\n解决方案：\n1. 检查 skill 的描述是否匹配任务关键词\n2. 尝试明确提及 skill 名称\n3. 验证 skill 的 frontmatter 是有效的 YAML\n```\n\n### 脚本错误\n\n```text\n问题：Skill 脚本无法运行\n\n解决方案：\n1. 检查脚本依赖是否已安装\n2. 验证文件权限（bash 脚本需要 chmod +x）\n3. 检查脚本路径引用是否正确\n```\n\n## 验证 Skills\n\n使用 skill 前，验证它：\n\n```bash\n# 使用 skills-ref CLI\nskills-ref validate ./my-skill\n\n# 检查输出中的错误或警告\n```\n\n### 常见验证问题\n\n| 问题 | 解决方法 |\n|------|----------|\n| 名称格式无效 | 只使用小写字母和连字符 |\n| 缺少描述 | 在 frontmatter 中添加 description |\n| 名称不匹配 | 确保 name 与目录名匹配 |\n| 描述过长 | 保持在 1024 字符以内 |\n\n## 更新 Skills\n\nSkills 像任何代码一样进行版本控制：\n\n```bash\n# 如果使用 git\ncd .opencode/skill/my-skill\ngit pull\n\n# 手动更新\n# 用新版本替换文件\n```\n\n## 下一步\n\n- **[集成 Skills](/zh/docs/integrating)** - 为你自己的 Agent 添加 skills 支持\n- **[示例](/zh/docs/examples)** - 浏览示例 skills\n"
    },
    "writing-skill-md": {
      "slug": "writing-skill-md",
      "title": "编写 SKILL.md",
      "description": "编写有效 SKILL.md 文件的完整指南",
      "order": 4,
      "group": "creating-skills",
      "content": "\n# 编写 SKILL.md\n\nSKILL.md 文件是每个 skill 的核心。本指南涵盖你需要知道的一切。\n\n## 文件结构\n\n每个 SKILL.md 有两部分：\n\n```markdown\n---\nname: my-skill\ndescription: 此 skill 做什么\n---\n\n# 指令在这里...\n```\n\n## Frontmatter 字段\n\n### 必需字段\n\n#### name\n\nskill 的唯一标识符。\n\n**规则：**\n- 1-64 个字符\n- 仅限小写字母、数字和连字符\n- 不能以连字符开头或结尾\n- 必须与父目录名称匹配\n\n```yaml\n# 正确\nname: pdf-processing\nname: data-analysis\nname: code-review\n\n# 错误\nname: PDF-Processing    # 不允许大写\nname: -pdf              # 不能以连字符开头\nname: pdf--processing   # 不允许连续连字符\n```\n\n#### description\n\n告诉 Agent 何时使用此 skill。\n\n**技巧：**\n- 明确说明 skill 做什么\n- 包含帮助 Agent 匹配任务的关键词\n- 保持在 1024 字符以下\n\n```yaml\n# 好\ndescription: 从 PDF 文件中提取文本和表格，填写 PDF 表单，合并多个 PDF。在处理 PDF 文档时使用。\n\n# 差\ndescription: 处理 PDF。\n```\n\n### 可选字段\n\n#### license\n\n```yaml\nlicense: MIT\nlicense: Apache-2.0\nlicense: 见 LICENSE.txt\n```\n\n#### compatibility\n\n环境要求（最多 500 字符）：\n\n```yaml\ncompatibility: 需要 Python 3.9+ 和 pdfplumber 包\ncompatibility: 适用于 Claude Code 和类似 Agent\n```\n\n#### metadata\n\n自定义键值对：\n\n```yaml\nmetadata:\n  author: your-name\n  version: \"1.0\"\n  category: productivity\n```\n\n#### allowed-tools（实验性）\n\nskill 预批准的工具：\n\n```yaml\nallowed-tools: Bash(git:*) Bash(jq:*) Read\n```\n\n## 编写正文\n\n正文包含你的实际指令。没有严格的格式 - 写任何有助于 Agent 成功的内容。\n\n### 推荐部分\n\n#### 1. 何时使用此 skill\n\nskill 适用的明确标准：\n\n```markdown\n## 何时使用此 skill\n\n在以下情况使用此 skill：\n- 用户要求处理 PDF 文件\n- 用户提到从文档中提取文本\n- 用户需要填写 PDF 表单\n```\n\n#### 2. 分步指令\n\n```markdown\n## 指令\n\n1. 首先，确定需要的 PDF 操作类型\n2. 对于文本提取：\n   - 使用 extract_text.py 脚本\n   - 通过处理每一页来处理多页文档\n3. 对于表单填写：\n   - 首先解析表单字段\n   - 填写前验证输入数据\n```\n\n#### 3. 示例\n\n显示预期的输入和输出：\n\n```markdown\n## 示例\n\n### 提取文本\n\n**输入：** \"从 report.pdf 提取文本\"\n\n**操作：**\n\\`\\`\\`bash\npython scripts/extract_text.py report.pdf\n\\`\\`\\`\n\n**输出：** 返回提取的文本给用户\n```\n\n#### 4. 边缘情况\n\n```markdown\n## 边缘情况\n\n- **加密 PDF**：处理前询问用户密码\n- **扫描文档**：警告可能需要 OCR\n- **大文件**：分块处理以避免内存问题\n```\n\n## 最佳实践\n\n### 保持专注\n\n每个 skill 应该做好一件事。如果你的 SKILL.md 超过 500 行，考虑：\n- 拆分成多个 skills\n- 将细节移到 reference 文件\n\n### 为 Agent 编写\n\n记住你的受众是 AI Agent：\n- 明确步骤\n- 包含要运行的确切命令\n- 指定预期输出\n\n### 使用文件引用\n\n对于详细内容，引用外部文件：\n\n```markdown\n完整的 API 文档请参阅 [references/API.md](references/API.md)。\n\n运行主脚本：\n\\`\\`\\`bash\npython scripts/main.py\n\\`\\`\\`\n```\n\n## 下一步\n\n- **[脚本和资源](/zh/docs/scripts-and-resources)** - 添加可执行代码\n- **[最佳实践](/zh/docs/best-practices)** - 创建有效 skills 的技巧\n- **[规范](/zh/docs/specification)** - 完整格式参考\n"
    }
  }
};
